<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMSIS-Driver: WiFi Bypass Mode</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="cmsis_logo_white_small.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">CMSIS-Driver
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "CMSIS-Driver");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">Peripheral Interface for Middleware and Application Code</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__wifi__bypass__gr.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">WiFi Bypass Mode<div class="ingroups"><a class="el" href="group__wifi__interface__gr.html">WiFi Interface</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Transfer Ethernet frames by WiFi module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga678fa1aa06ca6aaa67c7eb7a7660730e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__bypass__gr.html#ga678fa1aa06ca6aaa67c7eb7a7660730e">ARM_WIFI_BypassControl</a> (uint32_t interface, uint32_t mode)</td></tr>
<tr class="memdesc:ga678fa1aa06ca6aaa67c7eb7a7660730e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable bypass (pass-through) mode. Transmit and receive Ethernet frames (IP layer bypassed and WiFi/Ethernet translation).  <br /></td></tr>
<tr class="separator:ga678fa1aa06ca6aaa67c7eb7a7660730e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1da4619feaf62d0cc90cfe44642d16b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__bypass__gr.html#gac1da4619feaf62d0cc90cfe44642d16b">ARM_WIFI_EthSendFrame</a> (uint32_t interface, const uint8_t *frame, uint32_t len)</td></tr>
<tr class="memdesc:gac1da4619feaf62d0cc90cfe44642d16b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Ethernet frame (in bypass mode only).  <br /></td></tr>
<tr class="separator:gac1da4619feaf62d0cc90cfe44642d16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dbeb5528095af31a60560e0c48321d4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__bypass__gr.html#ga1dbeb5528095af31a60560e0c48321d4">ARM_WIFI_EthReadFrame</a> (uint32_t interface, uint8_t *frame, uint32_t len)</td></tr>
<tr class="memdesc:ga1dbeb5528095af31a60560e0c48321d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data of received Ethernet frame (in bypass mode only).  <br /></td></tr>
<tr class="separator:ga1dbeb5528095af31a60560e0c48321d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab67442ff061d0c4311a7046bce8d0cd1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__bypass__gr.html#gab67442ff061d0c4311a7046bce8d0cd1">ARM_WIFI_EthGetRxFrameSize</a> (uint32_t interface)</td></tr>
<tr class="memdesc:gab67442ff061d0c4311a7046bce8d0cd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of received Ethernet frame (in bypass mode only).  <br /></td></tr>
<tr class="separator:gab67442ff061d0c4311a7046bce8d0cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Transfer Ethernet frames by WiFi module. </p>
<p>The <a class="el" href="group__wifi__bypass__gr.html">WiFi Bypass Mode</a> functions are an optional interface and enable the transmission of Ethernet frames with WiFi modules. The use of this interface requires that the TCP/IP stack is running on the microcontroller (usually a third-party or open-source networking component). The internal TCP/IP stack of the WiFi module is therefore not used, and this usually means that the <a class="el" href="group__wifi__socket__gr.html">WiFi Socket</a> functions can not be used. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga678fa1aa06ca6aaa67c7eb7a7660730e" name="ga678fa1aa06ca6aaa67c7eb7a7660730e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga678fa1aa06ca6aaa67c7eb7a7660730e">&#9670;&#160;</a></span>ARM_WIFI_BypassControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_WIFI_BypassControl </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or disable bypass (pass-through) mode. Transmit and receive Ethernet frames (IP layer bypassed and WiFi/Ethernet translation). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interface</td><td>Interface (0 = Station, 1 = Access Point) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td><ul>
<li>value = 1: all packets bypass internal IP stack</li>
<li>value = 0: all packets processed by internal IP stack </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status<ul>
<li><a class="el" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> : Operation successful</li>
<li><a class="el" href="group__execution__status.html#ga2f627075447749bb368d3b768be107cb">ARM_DRIVER_ERROR</a> : Operation failed</li>
<li><a class="el" href="group__execution__status.html#ga2efa59e480d82697795439220e6884e4">ARM_DRIVER_ERROR_UNSUPPORTED</a> : Operation not supported</li>
<li><a class="el" href="group__execution__status.html#gac781d4b70ce17c4c2efe2db045be751c">ARM_DRIVER_ERROR_PARAMETER</a> : Parameter error (invalid interface or mode)</li>
</ul>
</dd></dl>
<p>The function <b>ARM_WIFI_BypassControl</b> enables or disables the WiFi bypass mode.</p>
<p>The WiFi Bypass mode can only be enabled, if there is a bypass mode supported in the WiFi driver. You can check this by checking the driver's capabilities.</p>
<dl class="section note"><dt>Note</dt><dd>Bypass mode is enabled by default if the module does not support the Socket interface.</dd></dl>
<p>The argument <em>mode</em> specifies the desired state of the WiFi Bypass mode, which is enabled or disabled.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">extern</span> <a class="code hl_struct" href="group__wifi__interface__gr.html#structARM__DRIVER__WIFI">ARM_DRIVER_WIFI</a> Driver_WiFi0;</div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="group__wifi__interface__gr.html#structARM__DRIVER__WIFI">ARM_DRIVER_WIFI</a> *wifi;</div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="group__eth__interface__gr.html#structARM__ETH__MAC__ADDR">ARM_ETH_MAC_ADDR</a> own_mac_address;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> wifi_notify (uint32_t event, ,<span class="keywordtype">void</span> *arg) {</div>
<div class="line">  <span class="keywordflow">switch</span> (event)  {</div>
<div class="line">     :</div>
<div class="line">  }  </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> initialize_wifi_bypass (<span class="keywordtype">void</span>) {</div>
<div class="line">  <a class="code hl_struct" href="group__wifi__control__gr.html#structARM__WIFI__CAPABILITIES">ARM_WIFI_CAPABILITIES</a> capabilities;</div>
<div class="line"> </div>
<div class="line">  wifi = &amp;Driver_WiFi0;</div>
<div class="line">  capabilities = wifi-&gt;<a class="code hl_variable" href="group__wifi__interface__gr.html#a10f74a292db2275b28b6b0eb6b22bea8">GetCapabilities</a> ();</div>
<div class="line">  <span class="keywordflow">if</span> (capabilities.<a class="code hl_variable" href="group__wifi__control__gr.html#adbcc47408fb8c50d262a3be535108186">bypass_mode</a> == 0) {</div>
<div class="line">    <span class="comment">// error handling </span></div>
<div class="line">  } </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Initialize and Power-on WiFi Interface</span></div>
<div class="line">  wifi-&gt;<a class="code hl_variable" href="group__wifi__interface__gr.html#afe313d2860cfecd7b235dfa4a75ad0f9">Initialize</a> ((capabilities.eth_rx_frame_event) ? wifi_notify : NULL);</div>
<div class="line">  wifi-&gt;<a class="code hl_variable" href="group__wifi__interface__gr.html#a24ebae5c6011631f76027f9a16eaf5ce">PowerControl</a> (<a class="code hl_enumvalue" href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e">ARM_POWER_FULL</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// populate own_mac_address with the address to use for station</span></div>
<div class="line">  wifi-&gt;<a class="code hl_variable" href="group__wifi__interface__gr.html#aee3ad2b5a66b88a9d66352b6429c69a3">SetOption</a>(0U, <a class="code hl_define" href="group__WiFi__option.html#gafefb0fe1e5cdfb71f7f8cc7606840865">ARM_WIFI_MAC</a>, &amp;own_mac_address, 6U);</div>
<div class="line"> </div>
<div class="line">  wifi-&gt;<a class="code hl_variable" href="group__wifi__interface__gr.html#a30d6724850d3de7986c40d274a944679">BypassControl</a> (0U, 1U); <span class="comment">// Enable bypass mode for station</span></div>
<div class="line">}</div>
<div class="ttc" id="aDriver__Common_8h_html_ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e"><div class="ttname"><a href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e">ARM_POWER_FULL</a></div><div class="ttdeci">@ ARM_POWER_FULL</div><div class="ttdoc">Power on: full operation at maximum performance.</div><div class="ttdef"><b>Definition:</b> Driver_Common.h:66</div></div>
<div class="ttc" id="agroup__WiFi__option_html_gafefb0fe1e5cdfb71f7f8cc7606840865"><div class="ttname"><a href="group__WiFi__option.html#gafefb0fe1e5cdfb71f7f8cc7606840865">ARM_WIFI_MAC</a></div><div class="ttdeci">#define ARM_WIFI_MAC</div><div class="ttdoc">Station/AP Set/Get MAC; data = &amp;mac, len = 6, uint8_t[6].</div></div>
<div class="ttc" id="agroup__eth__interface__gr_html_structARM__ETH__MAC__ADDR"><div class="ttname"><a href="group__eth__interface__gr.html#structARM__ETH__MAC__ADDR">ARM_ETH_MAC_ADDR</a></div><div class="ttdoc">Ethernet MAC Address.</div><div class="ttdef"><b>Definition:</b> Driver_ETH.h:83</div></div>
<div class="ttc" id="agroup__wifi__control__gr_html_adbcc47408fb8c50d262a3be535108186"><div class="ttname"><a href="group__wifi__control__gr.html#adbcc47408fb8c50d262a3be535108186">ARM_WIFI_CAPABILITIES::bypass_mode</a></div><div class="ttdeci">uint32_t bypass_mode</div><div class="ttdoc">Bypass or pass-through mode (Ethernet interface)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:615</div></div>
<div class="ttc" id="agroup__wifi__control__gr_html_structARM__WIFI__CAPABILITIES"><div class="ttname"><a href="group__wifi__control__gr.html#structARM__WIFI__CAPABILITIES">ARM_WIFI_CAPABILITIES</a></div><div class="ttdoc">WiFi Driver Capabilities.</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:606</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_a10f74a292db2275b28b6b0eb6b22bea8"><div class="ttname"><a href="group__wifi__interface__gr.html#a10f74a292db2275b28b6b0eb6b22bea8">ARM_DRIVER_WIFI::GetCapabilities</a></div><div class="ttdeci">ARM_WIFI_CAPABILITIES(* GetCapabilities)(void)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:627</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_a24ebae5c6011631f76027f9a16eaf5ce"><div class="ttname"><a href="group__wifi__interface__gr.html#a24ebae5c6011631f76027f9a16eaf5ce">ARM_DRIVER_WIFI::PowerControl</a></div><div class="ttdeci">int32_t(* PowerControl)(ARM_POWER_STATE state)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:630</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_a30d6724850d3de7986c40d274a944679"><div class="ttname"><a href="group__wifi__interface__gr.html#a30d6724850d3de7986c40d274a944679">ARM_DRIVER_WIFI::BypassControl</a></div><div class="ttdeci">int32_t(* BypassControl)(uint32_t interface, uint32_t mode)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:639</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_aee3ad2b5a66b88a9d66352b6429c69a3"><div class="ttname"><a href="group__wifi__interface__gr.html#aee3ad2b5a66b88a9d66352b6429c69a3">ARM_DRIVER_WIFI::SetOption</a></div><div class="ttdeci">int32_t(* SetOption)(uint32_t interface, uint32_t option, const void *data, uint32_t len)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:632</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_afe313d2860cfecd7b235dfa4a75ad0f9"><div class="ttname"><a href="group__wifi__interface__gr.html#afe313d2860cfecd7b235dfa4a75ad0f9">ARM_DRIVER_WIFI::Initialize</a></div><div class="ttdeci">int32_t(* Initialize)(ARM_WIFI_SignalEvent_t cb_event)</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:628</div></div>
<div class="ttc" id="agroup__wifi__interface__gr_html_structARM__DRIVER__WIFI"><div class="ttname"><a href="group__wifi__interface__gr.html#structARM__DRIVER__WIFI">ARM_DRIVER_WIFI</a></div><div class="ttdoc">Access structure of the WiFi Driver.</div><div class="ttdef"><b>Definition:</b> Driver_WiFi.h:625</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gac1da4619feaf62d0cc90cfe44642d16b" name="gac1da4619feaf62d0cc90cfe44642d16b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1da4619feaf62d0cc90cfe44642d16b">&#9670;&#160;</a></span>ARM_WIFI_EthSendFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_WIFI_EthSendFrame </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Ethernet frame (in bypass mode only). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interface</td><td>Interface (0 = Station, 1 = Access Point) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>Pointer to frame buffer with data to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Frame buffer length in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status<ul>
<li><a class="el" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> : Operation successful</li>
<li><a class="el" href="group__execution__status.html#ga2f627075447749bb368d3b768be107cb">ARM_DRIVER_ERROR</a> : Operation failed</li>
<li><a class="el" href="group__execution__status.html#ga13c1123319c7b9a4735d63447f35116b">ARM_DRIVER_ERROR_BUSY</a> : Driver is busy</li>
<li><a class="el" href="group__execution__status.html#ga2efa59e480d82697795439220e6884e4">ARM_DRIVER_ERROR_UNSUPPORTED</a> : Operation not supported</li>
<li><a class="el" href="group__execution__status.html#gac781d4b70ce17c4c2efe2db045be751c">ARM_DRIVER_ERROR_PARAMETER</a> : Parameter error (invalid interface or NULL frame pointer)</li>
</ul>
</dd></dl>
<p>The function <b>ARM_WIFI_EthSendFrame</b> writes an <b>Ethernet frame</b> to the WiFi transmit buffer.</p>
<p>The WiFi bypass mode must be enabled by using the function <a class="el" href="group__wifi__bypass__gr.html#ga678fa1aa06ca6aaa67c7eb7a7660730e">ARM_WIFI_BypassControl</a> before a call to this function.</p>
<p>The frame data addressed by <em>frame</em> starts with MAC destination and ends with the last Payload data byte. The frame data is copied into the transmit buffer of the WiFi interface.</p>
<p>The maximum value for <em>len</em> is implied by the size restrictions of the Ethernet frame but is not verified. Using an invalid value for <em>len</em> may generate unpredicted results.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">status = wifi-&gt;EthSendFrame (0U, &amp;frame_data[0], frame_length);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>)  {</div>
<div class="line">  <span class="comment">// error handling</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__execution__status_html_ga85752c5de59e8adeb001e35ff5be6be7"><div class="ttname"><a href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a></div><div class="ttdeci">#define ARM_DRIVER_OK</div><div class="ttdoc">Operation succeeded.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga1dbeb5528095af31a60560e0c48321d4" name="ga1dbeb5528095af31a60560e0c48321d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dbeb5528095af31a60560e0c48321d4">&#9670;&#160;</a></span>ARM_WIFI_EthReadFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_WIFI_EthReadFrame </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data of received Ethernet frame (in bypass mode only). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interface</td><td>Interface (0 = Station, 1 = Access Point) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>Pointer to frame buffer for data to read into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Frame buffer length in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of data bytes read or error code<ul>
<li>value &gt;= 0 : Number of data bytes read</li>
<li><a class="el" href="group__execution__status.html#ga2f627075447749bb368d3b768be107cb">ARM_DRIVER_ERROR</a> : Operation failed</li>
<li><a class="el" href="group__execution__status.html#ga2efa59e480d82697795439220e6884e4">ARM_DRIVER_ERROR_UNSUPPORTED</a> : Operation not supported</li>
<li><a class="el" href="group__execution__status.html#gac781d4b70ce17c4c2efe2db045be751c">ARM_DRIVER_ERROR_PARAMETER</a> : Parameter error (invalid interface or NULL frame pointer)</li>
</ul>
</dd></dl>
<p>The function <b>ARM_WIFI_EthReadFrame</b> reads an <b>Ethernet frame</b> from the WiFi interface in the bypass mode.</p>
<p>The <em>len</em> of the Ethernet frame can be checked using the function <a class="el" href="group__wifi__bypass__gr.html#gab67442ff061d0c4311a7046bce8d0cd1">ARM_WIFI_EthGetRxFrameSize</a>.</p>
<p>The frame data addressed by <em>frame</em> starts with MAC destination and ends with the last Payload data byte. The frame data is read from the receive buffer of the WiFi interface and the number of bytes written into the memory addressed by <em>frame</em> is returned. A negative return value indicates an error whereby the status code is defined with driver common return codes.</p>
<p>The function <a class="el" href="group__wifi__bypass__gr.html#ga1dbeb5528095af31a60560e0c48321d4">ARM_WIFI_EthReadFrame</a> may be called with <em>buf</em> = <span class="XML-Token">NULL</span> and <em>len</em> = <span class="XML-Token">0</span> to discard or release a frame. This is useful when an incorrect frame has been received or no memory is available to hold the Ethernet frame.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">size = wifi-&gt;EthGetRxFrameSize ();</div>
<div class="line"><span class="keywordflow">if</span> ((size &lt; 14) || (size &gt; 1514)) {    <span class="comment">// frame excludes CRC</span></div>
<div class="line">  wifi-&gt;EthReadFrame (NULL, 0);        <span class="comment">// Frame error, release it</span></div>
<div class="line">}</div>
<div class="line">len = wifi-&gt;ReadFrame (0U, &amp;frame_data[0], size);</div>
<div class="line"><span class="keywordflow">if</span> (len &lt; 0)  {</div>
<div class="line">  <span class="comment">// error handling</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gab67442ff061d0c4311a7046bce8d0cd1" name="gab67442ff061d0c4311a7046bce8d0cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab67442ff061d0c4311a7046bce8d0cd1">&#9670;&#160;</a></span>ARM_WIFI_EthGetRxFrameSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ARM_WIFI_EthGetRxFrameSize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size of received Ethernet frame (in bypass mode only). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interface</td><td>Interface (0 = Station, 1 = Access Point) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes in received frame</dd></dl>
<p>The function <b>ARM_WIFI_EthGetRxFrameSize</b> returns the size of a received <b>Ethernet frame</b> in the bypass mode. This function can be called before <a class="el" href="group__wifi__bypass__gr.html#ga1dbeb5528095af31a60560e0c48321d4">ARM_WIFI_EthReadFrame</a> and retrieves the value <em>len</em>.</p>
<p>The frame size includes MAC destination and ends with the last Payload data byte. Value <span class="XML-Token">0</span> indicates that no Ethernet frame is available in the receive buffer. Values smaller than minimum size of Ethernet frame or larger than maximum size of Ethernet frame indicate an invalid frame which needs to be discarded by calling <a class="el" href="group__wifi__bypass__gr.html#ga1dbeb5528095af31a60560e0c48321d4">ARM_WIFI_EthReadFrame</a>.</p>
<p><b>Example:</b> </p><ul>
<li>see <a class="el" href="group__wifi__bypass__gr.html#ga1dbeb5528095af31a60560e0c48321d4">ARM_WIFI_EthReadFrame</a> </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
