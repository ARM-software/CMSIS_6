<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMSIS-Core (Cortex-A): Interrupts and Exceptions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="cmsis_logo_white_small.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">CMSIS-Core (Cortex-A)
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this);
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">CMSIS-Core support for Cortex-A processor-based devices</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__irq__ctrl__gr.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Content</a>  </div>
  <div class="headertitle"><div class="title">Interrupts and Exceptions</div></div>
</div><!--header-->
<div class="contents">

<p>Generic functions to access the Interrupt Controller.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Content</h2></td></tr>
<tr class="memitem:group__irq__mode__defs"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__irq__mode__defs.html">IRQ Mode Bit-Masks</a></td></tr>
<tr class="memdesc:group__irq__mode__defs"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure interrupt line mode. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__irq__priority__defs"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__irq__priority__defs.html">IRQ Priority Bit-Masks</a></td></tr>
<tr class="memdesc:group__irq__priority__defs"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions used by interrupt priority functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>This section describes the device agnostic interrupt API viable for a wide range of specific interrupt controllers. The IRQ Controller API allows interrupt dependend applications to be easily portable across a wide range of controllers.</p>
<dl class="section note"><dt>Note</dt><dd>The default implementation for <a class="el" href="group__GIC__functions.html">Arm GIC (Generic Interrupt Controller)</a> can be found in irq_ctrl_gic.c. It uses <code>weak</code> functions thus it can easily be overwritten by an alternative user implementation if needed.</dd></dl>
<p>The Armv7-A architecture defines a common set of first level exceptions, see table below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Exception   </th><th class="markdownTableHeadNone">CMSIS Handler   </th><th class="markdownTableHeadNone">Offset   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Reset   </td><td class="markdownTableBodyNone">Reset_Handler   </td><td class="markdownTableBodyNone">0x0000   </td><td class="markdownTableBodyNone">First instruction executed after reset.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Undefined Instruction (Undef)   </td><td class="markdownTableBodyNone">Undef_Handler   </td><td class="markdownTableBodyNone">0x0004   </td><td class="markdownTableBodyNone">Signals usage of an illegal instructions.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Supervisor Call (SVC)   </td><td class="markdownTableBodyNone">SVC_Handler   </td><td class="markdownTableBodyNone">0x0008   </td><td class="markdownTableBodyNone">Issued by software using SVC instruction.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Prefetch Abort (PAbt)   </td><td class="markdownTableBodyNone">PAbt_Handler   </td><td class="markdownTableBodyNone">0x000C   </td><td class="markdownTableBodyNone">Signals a memory abort on istruction fetch.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Data Abort (DAbt)   </td><td class="markdownTableBodyNone">DAbt_Handler   </td><td class="markdownTableBodyNone">0x0010   </td><td class="markdownTableBodyNone">Signals a memory abort on data read or write.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Hyp Trap   </td><td class="markdownTableBodyNone">(NOP)   </td><td class="markdownTableBodyNone">0x0014   </td><td class="markdownTableBodyNone">Hypervisor instruction trap, only available with Virtualization Extensions.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IRQ interrupt   </td><td class="markdownTableBodyNone">IRQ_Handler   </td><td class="markdownTableBodyNone">0x0018   </td><td class="markdownTableBodyNone">Interrupt Request (typically from Interrupt Controller)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FIQ interrupt   </td><td class="markdownTableBodyNone">FIQ_Handler   </td><td class="markdownTableBodyNone">0x001C   </td><td class="markdownTableBodyNone">Fast Interrupt Request (typically from Interrupt Controller)   </td></tr>
</table>
<p>By default those handlers are defined as weak empty functions by the <a class="el" href="startup_c_pg.html#startup_c_sec">device specific startup code</a>. Software and peripheral interrupts are all handled by one of the both central interrupt handlers (IRQ and FIQ). These needs to be implemented application specific. If an RTOS is used the interrupt handlers are typically provided by the RTOS, e.g. when using <a href="../../RTOS2/html/rtx5_impl.html">RTX5</a>.</p>
<p>The interrupts available depends on the actual device in use. According to CMSIS specification the interrupts are defined as IRQn_Type in <a class="el" href="device_h_pg.html">Device Header File &lt;device.h&gt;</a>. Using the generic IRQ API one can easily enable and disable interrupts, set up priorities, modes and preemption rules, and register interrupt callbacks.</p>
<p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> SGI0_Handler() {</div>
<div class="line">  <span class="comment">/* </span></div>
<div class="line"><span class="comment">   * Handle Interrupt </span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  </div>
<div class="line">  IRQ_ClearPending((IRQn_ID_t)SGI0_IRQn);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> main() {</div>
<div class="line">  <span class="comment">/* Initialize the Interrupt Controller */</span></div>
<div class="line">  IRQ_Initialize();</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Register the user defined handler function */</span></div>
<div class="line">  IRQ_SetHandler((IRQn_ID_t)SGI0_IRQn, SGI0_Handler);  </div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Set the priority considering the priority grouping */</span></div>
<div class="line">  <span class="keyword">const</span> uint32_t subprio = IRQ_GetPriorityGroupBits();</div>
<div class="line">  IRQ_SetPriority((IRQn_ID_t)SGI0_IRQn, 1u &lt;&lt; subprio);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Set interrupt mode to falling edge */</span></div>
<div class="line">  IRQ_SetMode((IRQn_ID_t)SGI0_IRQn, IRQ_MODE_TYPE_IRQ | IRQ_MODE_CPU_0 | IRQ_MODE_TRIG_EDGE | IRQ_MODE_TRIG_EDGE_FALLING);</div>
<div class="line">  </div>
<div class="line">  IRQ_Enable((IRQn_ID_t)SGI0_IRQn);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Trigger interrupt */</span></div>
<div class="line">  IRQ_SetPending((IRQn_ID_t)SGI0_IRQn);</div>
<div class="line">  </div>
<div class="line">  IRQ_Disable((IRQn_ID_t)SGI0_IRQn);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
