<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMSIS-Driver: CAN Interface</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="cmsis_logo_white_small.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">CMSIS-Driver
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "CMSIS-Driver");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">Peripheral Interface for Middleware and Application Code</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__can__interface__gr.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Content</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CAN Interface</div></div>
</div><!--header-->
<div class="contents">

<p>Driver API for CAN Bus Peripheral (Driver_CAN.h)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Content</h2></td></tr>
<tr class="memitem:group__can__status__code__ctrls"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__status__code__ctrls.html">CAN Status Error Codes</a></td></tr>
<tr class="memdesc:group__can__status__code__ctrls"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status codes of the CAN driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__CAN__unit__events"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAN__unit__events.html">CAN Unit Events</a></td></tr>
<tr class="memdesc:group__CAN__unit__events"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback unit events notified via <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__CAN__events"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAN__events.html">CAN Object Events</a></td></tr>
<tr class="memdesc:group__CAN__events"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback objects events notified via <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__can__control"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__control.html">CAN Control Codes</a></td></tr>
<tr class="memdesc:group__can__control"><td class="mdescLeft">&#160;</td><td class="mdescRight">Codes to configure the CAN driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structARM__DRIVER__CAN"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a></td></tr>
<tr class="memdesc:structARM__DRIVER__CAN"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access structure of the CAN Driver.  <a href="group__can__interface__gr.html#structARM__DRIVER__CAN">More...</a><br /></td></tr>
<tr class="separator:structARM__DRIVER__CAN"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structARM__CAN__CAPABILITIES"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a></td></tr>
<tr class="memdesc:structARM__CAN__CAPABILITIES"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN Device Driver Capabilities.  <a href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">More...</a><br /></td></tr>
<tr class="separator:structARM__CAN__CAPABILITIES"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structARM__CAN__STATUS"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a></td></tr>
<tr class="memdesc:structARM__CAN__STATUS"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN Status.  <a href="group__can__interface__gr.html#structARM__CAN__STATUS">More...</a><br /></td></tr>
<tr class="separator:structARM__CAN__STATUS"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structARM__CAN__MSG__INFO"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a></td></tr>
<tr class="memdesc:structARM__CAN__MSG__INFO"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN Message Information.  <a href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">More...</a><br /></td></tr>
<tr class="separator:structARM__CAN__MSG__INFO"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structARM__CAN__OBJ__CAPABILITIES"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a></td></tr>
<tr class="memdesc:structARM__CAN__OBJ__CAPABILITIES"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN Object Capabilities.  <a href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">More...</a><br /></td></tr>
<tr class="separator:structARM__CAN__OBJ__CAPABILITIES"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaac07b9fdf614bf439414f5417aaa376e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#gaac07b9fdf614bf439414f5417aaa376e">ARM_CAN_SignalUnitEvent_t</a>) (uint32_t event)</td></tr>
<tr class="memdesc:gaac07b9fdf614bf439414f5417aaa376e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> : Signal CAN Unit Event.  <br /></td></tr>
<tr class="separator:gaac07b9fdf614bf439414f5417aaa376e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ceceac3e9aa0981c5cacfab88efb4eb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga7ceceac3e9aa0981c5cacfab88efb4eb">ARM_CAN_SignalObjectEvent_t</a>) (uint32_t obj_idx, uint32_t event)</td></tr>
<tr class="memdesc:ga7ceceac3e9aa0981c5cacfab88efb4eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> : Signal CAN Object Event.  <br /></td></tr>
<tr class="separator:ga7ceceac3e9aa0981c5cacfab88efb4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4256d5b23ffcb27759a05f8e6b854f13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga4256d5b23ffcb27759a05f8e6b854f13">ARM_CAN_GetVersion</a> (void)</td></tr>
<tr class="memdesc:ga4256d5b23ffcb27759a05f8e6b854f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get driver version.  <br /></td></tr>
<tr class="separator:ga4256d5b23ffcb27759a05f8e6b854f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35f21cabe1637b1be964024a8f77721c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a> (void)</td></tr>
<tr class="memdesc:ga35f21cabe1637b1be964024a8f77721c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get driver capabilities.  <br /></td></tr>
<tr class="separator:ga35f21cabe1637b1be964024a8f77721c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa72ceb25ba67e279d7432404632deb44"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> (<a class="el" href="group__can__interface__gr.html#gaac07b9fdf614bf439414f5417aaa376e">ARM_CAN_SignalUnitEvent_t</a> cb_unit_event, <a class="el" href="group__can__interface__gr.html#ga7ceceac3e9aa0981c5cacfab88efb4eb">ARM_CAN_SignalObjectEvent_t</a> cb_object_event)</td></tr>
<tr class="memdesc:gaa72ceb25ba67e279d7432404632deb44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize CAN interface and register signal (callback) functions.  <br /></td></tr>
<tr class="separator:gaa72ceb25ba67e279d7432404632deb44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e3e364b64f2ab277399e3279cce5ef8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga1e3e364b64f2ab277399e3279cce5ef8">ARM_CAN_Uninitialize</a> (void)</td></tr>
<tr class="memdesc:ga1e3e364b64f2ab277399e3279cce5ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initialize CAN interface.  <br /></td></tr>
<tr class="separator:ga1e3e364b64f2ab277399e3279cce5ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f634f126ac97daef2f3115aa7bfed7c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga6f634f126ac97daef2f3115aa7bfed7c">ARM_CAN_PowerControl</a> (<a class="el" href="group__common__drv__gr.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5">ARM_POWER_STATE</a> state)</td></tr>
<tr class="memdesc:ga6f634f126ac97daef2f3115aa7bfed7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control CAN interface power.  <br /></td></tr>
<tr class="separator:ga6f634f126ac97daef2f3115aa7bfed7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fe6cc207415de604975ae251e269361"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga1fe6cc207415de604975ae251e269361">ARM_CAN_GetClock</a> (void)</td></tr>
<tr class="memdesc:ga1fe6cc207415de604975ae251e269361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve CAN base clock frequency.  <br /></td></tr>
<tr class="separator:ga1fe6cc207415de604975ae251e269361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88bb27a8525503a250cca7a2c4a5d07a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga88bb27a8525503a250cca7a2c4a5d07a">ARM_CAN_SetBitrate</a> (<a class="el" href="group__can__timeseg__ctrls.html#ga11c12020b81a63a73a8b53e96a7e3dea">ARM_CAN_BITRATE_SELECT</a> select, uint32_t bitrate, uint32_t bit_segments)</td></tr>
<tr class="memdesc:ga88bb27a8525503a250cca7a2c4a5d07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set bitrate for CAN interface.  <br /></td></tr>
<tr class="separator:ga88bb27a8525503a250cca7a2c4a5d07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28226a6e223f9b95b4dafb7c2f48a855"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a> (<a class="el" href="group__can__bus__mode__ctrls.html#gabbca99c46d478bcf822eee71cdf75dcd">ARM_CAN_MODE</a> mode)</td></tr>
<tr class="memdesc:ga28226a6e223f9b95b4dafb7c2f48a855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set operating mode for CAN interface.  <br /></td></tr>
<tr class="separator:ga28226a6e223f9b95b4dafb7c2f48a855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45ab314f5121cf5a1b32d9adc600e0f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a> (uint32_t obj_idx)</td></tr>
<tr class="memdesc:ga45ab314f5121cf5a1b32d9adc600e0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve capabilities of an object.  <br /></td></tr>
<tr class="separator:ga45ab314f5121cf5a1b32d9adc600e0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f9bc7088704483388e14872c9d5385d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> (uint32_t obj_idx, <a class="el" href="group__can__filter__operation__ctrls.html#gacb04d0f8b3969ee69362ff2b62941d75">ARM_CAN_FILTER_OPERATION</a> operation, uint32_t id, uint32_t arg)</td></tr>
<tr class="memdesc:ga4f9bc7088704483388e14872c9d5385d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove filter for message reception.  <br /></td></tr>
<tr class="separator:ga4f9bc7088704483388e14872c9d5385d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00ec0715f6755a49dae5b60dca182630"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> (uint32_t obj_idx, <a class="el" href="group__can__obj__config__ctrls.html#gaa9488554de0575bc821c9f65213c4cd0">ARM_CAN_OBJ_CONFIG</a> obj_cfg)</td></tr>
<tr class="memdesc:ga00ec0715f6755a49dae5b60dca182630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure object.  <br /></td></tr>
<tr class="separator:ga00ec0715f6755a49dae5b60dca182630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0dcffd362b4093043442a030eaebbcfe"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> (uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, const uint8_t *data, uint8_t size)</td></tr>
<tr class="memdesc:ga0dcffd362b4093043442a030eaebbcfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send message on CAN bus.  <br /></td></tr>
<tr class="separator:ga0dcffd362b4093043442a030eaebbcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc37084df5eab32f593c2744d35cf647"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a> (uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, uint8_t *data, uint8_t size)</td></tr>
<tr class="memdesc:gafc37084df5eab32f593c2744d35cf647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read message received on CAN bus.  <br /></td></tr>
<tr class="separator:gafc37084df5eab32f593c2744d35cf647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d9f0c5f03a8a81ab062b5aa57e5dea4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a> (uint32_t control, uint32_t arg)</td></tr>
<tr class="memdesc:ga8d9f0c5f03a8a81ab062b5aa57e5dea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control CAN interface.  <br /></td></tr>
<tr class="separator:ga8d9f0c5f03a8a81ab062b5aa57e5dea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga676d6b567fc4ab3d44f5d7a50ec9419c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a> (void)</td></tr>
<tr class="memdesc:ga676d6b567fc4ab3d44f5d7a50ec9419c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get CAN status.  <br /></td></tr>
<tr class="separator:ga676d6b567fc4ab3d44f5d7a50ec9419c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38795d1ed135ce3bd87f31ef1596bccf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> (uint32_t event)</td></tr>
<tr class="memdesc:ga38795d1ed135ce3bd87f31ef1596bccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal CAN unit event.  <br /></td></tr>
<tr class="separator:ga38795d1ed135ce3bd87f31ef1596bccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfcaeac9e2ca25936ba5a29f2d594e7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> (uint32_t obj_idx, uint32_t event)</td></tr>
<tr class="memdesc:gabfcaeac9e2ca25936ba5a29f2d594e7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal CAN object event.  <br /></td></tr>
<tr class="separator:gabfcaeac9e2ca25936ba5a29f2d594e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Driver API for CAN Bus Peripheral (Driver_CAN.h) </p>
<p>The <b>Controller Area Network</b> Interface Bus (CAN) implements a multi-master serial bus for connecting microcontrollers and devices, also known as nodes, to communicate with each other in applications without a host computer. CAN is a message-based protocol, designed originally for automotive applications, but meanwhile used also in many other surroundings. The complexity of the node can range from a simple I/O device up to an embedded computer with a CAN interface and sophisticated software. The node may also be a gateway allowing a standard computer to communicate over a USB or Ethernet port to the devices on a CAN network. Devices are connected to the bus through a host processor, a CAN controller, and a CAN transceiver.</p>
<p>The CAN Driver API allows to implement CAN Interfaces that conform to the <br  />
 <a href="https://www.bosch-semiconductors.com/" target="_blank">CAN specifications available from BOSCH</a>:</p><ul>
<li>CAN 2.0B: CAN Specification 2.0B (released Sep. 1991) which is now superseded by ISO 11898-1.</li>
<li>CAN FD: CAN with Flexible Data Rate introduced in 2012 (released April 17th, 2012).</li>
</ul>
<p>Wikipedia offers more information about the <a href="https://en.wikipedia.org/wiki/CAN_bus" target="_blank"><b>CAN Bus</b></a>.</p>
<p>CAN 2.0B** Every CAN CMSIS-Driver supports the CAN 2.0B standard</p>
<p>CAN 2.0B supports:</p><ul>
<li>message can contain up to 8 data bytes</li>
<li>bitrates of up to 1Mbits/s</li>
<li><a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> requests</li>
</ul>
<p><a class="anchor" id="CAN_FD"></a><b>CAN FD</b></p>
<p>Support for CAN FD depends on the hardware. <br  />
 A CMSIS-Driver that supports CAN FD has the capability <a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a> data field <b>fd_mode</b> = <span class="XML-Token">1</span>, which can be retrieved with the function <a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a>.</p>
<p>CAN FD supports:</p><ul>
<li>message can contain up to 64 data bytes</li>
<li>faster data transfers with faster bitrate used during the data phase</li>
</ul>
<p>CAN FD does not support <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> requests.</p>
<p><b>Block Diagram</b></p>
<p>The CAN Driver API defines a <b>CAN</b> interface for middleware components. The CAN Driver supports multiple nodes, which are able to send and receive messages, but not simultaneously.</p>
<div class="image">
<img src="CAN_Node.png" alt=""/>
<div class="caption">
CAN Node Schematic</div></div>
<h2><a class="anchor" id="autotoc_md0"></a>
CAN API</h2>
<p>The following header files define the Application Programming Interface (API) for the CAN interface:</p><ul>
<li><b>Driver_CAN.h</b> : Driver API for CAN Bus Peripheral</li>
</ul>
<p>The driver implementation is a typical part of the Device Family Pack (DFP) that supports the peripherals of the microcontroller family.</p>
<p><b>Driver Functions</b></p>
<p>The driver functions are published in the access struct as explained in <a class="el" href="theoryOperation.html#DriverFunctions">Common Driver Functions</a></p><ul>
<li><a class="el" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a> : access struct for CAN driver functions</li>
</ul>
<p><b>Example Code</b></p>
<p>The following example code shows the usage of the CAN interface.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;cmsis_os.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Driver__CAN_8h.html">Driver_CAN.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// CAN Driver Controller selector</span></div>
<div class="line"><span class="preprocessor">#define  CAN_CONTROLLER         1       </span><span class="comment">// CAN Controller number</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define _CAN_Driver_(n)         Driver_CAN##n</span></div>
<div class="line"><span class="preprocessor">#define  CAN_Driver_(n)        _CAN_Driver_(n)</span></div>
<div class="line"><span class="keyword">extern</span>   <a class="code hl_struct" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a>         CAN_Driver_(CAN_CONTROLLER);</div>
<div class="line"><span class="preprocessor">#define  ptrCAN               (&amp;CAN_Driver_(CAN_CONTROLLER))</span></div>
<div class="line"> </div>
<div class="line">uint32_t                        rx_obj_idx  = 0xFFFFFFFFU;</div>
<div class="line">uint8_t                         rx_data[8];</div>
<div class="line"><a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>                rx_msg_info;</div>
<div class="line">uint32_t                        tx_obj_idx  = 0xFFFFFFFFU;</div>
<div class="line">uint8_t                         tx_data[8];</div>
<div class="line"><a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>                tx_msg_info;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> Error_Handler (<span class="keywordtype">void</span>) { <span class="keywordflow">while</span> (1); }</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CAN_SignalUnitEvent (uint32_t event) {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CAN_SignalObjectEvent (uint32_t obj_idx, uint32_t event) {</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (obj_idx == rx_obj_idx) {                  <span class="comment">// If receive object event</span></div>
<div class="line">    <span class="keywordflow">if</span> (event == <a class="code hl_define" href="group__CAN__events.html#ga2c1082561eeae3b2b8132e81fc241e47">ARM_CAN_EVENT_RECEIVE</a>) {       <span class="comment">// If message was received successfully</span></div>
<div class="line">      <span class="keywordflow">if</span> (ptrCAN-&gt;MessageRead(rx_obj_idx, &amp;rx_msg_info, rx_data, 8U) &gt; 0U) {</div>
<div class="line">                                                <span class="comment">// Read received message</span></div>
<div class="line">        <span class="comment">// process received message ...</span></div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (obj_idx == tx_obj_idx) {                  <span class="comment">// If transmit object event</span></div>
<div class="line">    <span class="keywordflow">if</span> (event == <a class="code hl_define" href="group__CAN__events.html#ga486f0f35ebc7e3b5931ee68b56703503">ARM_CAN_EVENT_SEND_COMPLETE</a>) { <span class="comment">// If message was sent successfully</span></div>
<div class="line">      <span class="comment">// acknowledge sent message ...</span></div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">void</span>) {</div>
<div class="line">  <a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a>     can_cap;</div>
<div class="line">  <a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> can_obj_cap;</div>
<div class="line">  int32_t                  status;</div>
<div class="line">  uint32_t                 i, num_objects;</div>
<div class="line"> </div>
<div class="line">  can_cap = ptrCAN-&gt;GetCapabilities (); <span class="comment">// Get CAN driver capabilities</span></div>
<div class="line">  num_objects = can_cap.<a class="code hl_variable" href="group__can__interface__gr.html#a69bd1a164443cf6f501489f4d31f4681">num_objects</a>;    <span class="comment">// Number of receive/transmit objects</span></div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;Initialize    (CAN_SignalUnitEvent, CAN_SignalObjectEvent);  <span class="comment">// Initialize CAN driver</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;PowerControl  (<a class="code hl_enumvalue" href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e">ARM_POWER_FULL</a>);                              <span class="comment">// Power-up CAN controller</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;SetMode       (<a class="code hl_enumvalue" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda9967a5ebaa045afe54d75e5629676ddc">ARM_CAN_MODE_INITIALIZATION</a>);                 <span class="comment">// Activate initialization mode</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;SetBitrate    (<a class="code hl_enumvalue" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a>,              <span class="comment">// Set nominal bitrate</span></div>
<div class="line">                                  100000U,                              <span class="comment">// Set bitrate to 100 kbit/s</span></div>
<div class="line">                                  <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga01183319a5a899eafea9ffe7af73d5ea">ARM_CAN_BIT_PROP_SEG</a>(5U)   |          <span class="comment">// Set propagation segment to 5 time quanta</span></div>
<div class="line">                                  <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga03f1921ee97a7ebf5d767b6cacf40792">ARM_CAN_BIT_PHASE_SEG1</a>(1U) |          <span class="comment">// Set phase segment 1 to 1 time quantum (sample point at 87.5% of bit time)</span></div>
<div class="line">                                  <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga76de056d56803cb7a0d01978ee981e80">ARM_CAN_BIT_PHASE_SEG2</a>(1U) |          <span class="comment">// Set phase segment 2 to 1 time quantum (total bit is 8 time quanta long)</span></div>
<div class="line">                                  <a class="code hl_define" href="group__can__timeseg__ctrls.html#gab32e97fa4edf497c111dd3f0d8779269">ARM_CAN_BIT_SJW</a>(1U));                 <span class="comment">// Resynchronization jump width is same as phase segment 2</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span> (i = 0U; i &lt; num_objects; i++) {                                          <span class="comment">// Find first available object for receive and transmit</span></div>
<div class="line">    can_obj_cap = ptrCAN-&gt;ObjectGetCapabilities (i);                            <span class="comment">// Get object capabilities</span></div>
<div class="line">    <span class="keywordflow">if</span>      ((rx_obj_idx == 0xFFFFFFFFU) &amp;&amp; (can_obj_cap.<a class="code hl_variable" href="group__can__interface__gr.html#a895532773c3204e1538191f155c7bac8">rx</a> == 1U)) { rx_obj_idx = i; }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((tx_obj_idx == 0xFFFFFFFFU) &amp;&amp; (can_obj_cap.<a class="code hl_variable" href="group__can__interface__gr.html#a9706173b2ed538efeb5ee4a952e2272f">tx</a> == 1U)) { tx_obj_idx = i; <span class="keywordflow">break</span>; }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ((rx_obj_idx == 0xFFFFFFFFU) || (tx_obj_idx == 0xFFFFFFFFU)) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Set filter to receive messages with extended ID 0x12345678 to receive object</span></div>
<div class="line">  status = ptrCAN-&gt;ObjectSetFilter(rx_obj_idx, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U), 0U);</div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;ObjectConfigure(tx_obj_idx, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c">ARM_CAN_OBJ_TX</a>);                 <span class="comment">// Configure transmit object</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">  status = ptrCAN-&gt;ObjectConfigure(rx_obj_idx, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a14780ac7274831ee94f427cbbf67c003">ARM_CAN_OBJ_RX</a>);                 <span class="comment">// Configure receive object</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line">  </div>
<div class="line">  status = ptrCAN-&gt;SetMode (<a class="code hl_enumvalue" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcdaa3190344bdf3452462e5c0518ac3cdc4">ARM_CAN_MODE_NORMAL</a>);                               <span class="comment">// Activate normal operation mode</span></div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line">  </div>
<div class="line">  memset(&amp;tx_msg_info, 0U, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>));                           <span class="comment">// Clear message info structure</span></div>
<div class="line">  tx_msg_info.<a class="code hl_variable" href="group__can__interface__gr.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a> = <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U);                            <span class="comment">// Set extended ID for transmit message</span></div>
<div class="line">  tx_data[0]     = 0xFFU;                                                       <span class="comment">// Initialize transmit data</span></div>
<div class="line">  <span class="keywordflow">while</span> (1) {</div>
<div class="line">    tx_data[0]++;                                                               <span class="comment">// Increment transmit data</span></div>
<div class="line">    status = ptrCAN-&gt;MessageSend(tx_obj_idx, &amp;tx_msg_info, tx_data, 1U);        <span class="comment">// Send data message with 1 data byte</span></div>
<div class="line">    <span class="keywordflow">if</span> (status != 1U) { Error_Handler(); }</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; 1000000U; i++) { __nop(); }                                <span class="comment">// Wait a little while</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aDriver__CAN_8h_html"><div class="ttname"><a href="Driver__CAN_8h.html">Driver_CAN.h</a></div></div>
<div class="ttc" id="aDriver__CAN_8h_html_ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3"><div class="ttname"><a href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a></div><div class="ttdeci">@ ARM_CAN_BITRATE_NOMINAL</div><div class="ttdoc">Select nominal (flexible data-rate arbitration) bitrate.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:55</div></div>
<div class="ttc" id="aDriver__CAN_8h_html_gaa9488554de0575bc821c9f65213c4cd0a14780ac7274831ee94f427cbbf67c003"><div class="ttname"><a href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a14780ac7274831ee94f427cbbf67c003">ARM_CAN_OBJ_RX</a></div><div class="ttdeci">@ ARM_CAN_OBJ_RX</div><div class="ttdoc">CAN receive object.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:103</div></div>
<div class="ttc" id="aDriver__CAN_8h_html_gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c"><div class="ttname"><a href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c">ARM_CAN_OBJ_TX</a></div><div class="ttdeci">@ ARM_CAN_OBJ_TX</div><div class="ttdoc">CAN transmit object.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:102</div></div>
<div class="ttc" id="aDriver__CAN_8h_html_gabbca99c46d478bcf822eee71cdf75dcda9967a5ebaa045afe54d75e5629676ddc"><div class="ttname"><a href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda9967a5ebaa045afe54d75e5629676ddc">ARM_CAN_MODE_INITIALIZATION</a></div><div class="ttdeci">@ ARM_CAN_MODE_INITIALIZATION</div><div class="ttdoc">Initialization mode.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:81</div></div>
<div class="ttc" id="aDriver__CAN_8h_html_gabbca99c46d478bcf822eee71cdf75dcdaa3190344bdf3452462e5c0518ac3cdc4"><div class="ttname"><a href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcdaa3190344bdf3452462e5c0518ac3cdc4">ARM_CAN_MODE_NORMAL</a></div><div class="ttdeci">@ ARM_CAN_MODE_NORMAL</div><div class="ttdoc">Normal operation mode.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:82</div></div>
<div class="ttc" id="aDriver__CAN_8h_html_gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b"><div class="ttname"><a href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a></div><div class="ttdeci">@ ARM_CAN_FILTER_ID_EXACT_ADD</div><div class="ttdoc">Add exact id filter.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:91</div></div>
<div class="ttc" id="aDriver__Common_8h_html_ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e"><div class="ttname"><a href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e">ARM_POWER_FULL</a></div><div class="ttdeci">@ ARM_POWER_FULL</div><div class="ttdoc">Power on: full operation at maximum performance.</div><div class="ttdef"><b>Definition:</b> Driver_Common.h:66</div></div>
<div class="ttc" id="agroup__CAN__events_html_ga2c1082561eeae3b2b8132e81fc241e47"><div class="ttname"><a href="group__CAN__events.html#ga2c1082561eeae3b2b8132e81fc241e47">ARM_CAN_EVENT_RECEIVE</a></div><div class="ttdeci">#define ARM_CAN_EVENT_RECEIVE</div><div class="ttdoc">Message received.</div></div>
<div class="ttc" id="agroup__CAN__events_html_ga486f0f35ebc7e3b5931ee68b56703503"><div class="ttname"><a href="group__CAN__events.html#ga486f0f35ebc7e3b5931ee68b56703503">ARM_CAN_EVENT_SEND_COMPLETE</a></div><div class="ttdeci">#define ARM_CAN_EVENT_SEND_COMPLETE</div><div class="ttdoc">Send complete.</div></div>
<div class="ttc" id="agroup__can__identifer__ctrls_html_gae7d4efb6fb49e1ec47c2b12e22f37cae"><div class="ttname"><a href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a></div><div class="ttdeci">#define ARM_CAN_EXTENDED_ID(id)</div><div class="ttdoc">CAN identifier in extended format (29-bits)</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_a69bd1a164443cf6f501489f4d31f4681"><div class="ttname"><a href="group__can__interface__gr.html#a69bd1a164443cf6f501489f4d31f4681">ARM_CAN_CAPABILITIES::num_objects</a></div><div class="ttdeci">uint32_t num_objects</div><div class="ttdoc">Number of CAN Message Objects available.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:336</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_a895532773c3204e1538191f155c7bac8"><div class="ttname"><a href="group__can__interface__gr.html#a895532773c3204e1538191f155c7bac8">ARM_CAN_OBJ_CAPABILITIES::rx</a></div><div class="ttdeci">uint32_t rx</div><div class="ttdoc">Object supports reception.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:113</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_a9706173b2ed538efeb5ee4a952e2272f"><div class="ttname"><a href="group__can__interface__gr.html#a9706173b2ed538efeb5ee4a952e2272f">ARM_CAN_OBJ_CAPABILITIES::tx</a></div><div class="ttdeci">uint32_t tx</div><div class="ttdoc">Object supports transmission.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:112</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_abaabdc509cdaba7df9f56c6c76f3ae19"><div class="ttname"><a href="group__can__interface__gr.html#abaabdc509cdaba7df9f56c6c76f3ae19">ARM_CAN_MSG_INFO::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdoc">CAN identifier with frame format specifier (bit 31)</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:144</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_structARM__CAN__CAPABILITIES"><div class="ttname"><a href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a></div><div class="ttdoc">CAN Device Driver Capabilities.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:335</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_structARM__CAN__MSG__INFO"><div class="ttname"><a href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a></div><div class="ttdoc">CAN Message Information.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:143</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_structARM__CAN__OBJ__CAPABILITIES"><div class="ttname"><a href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a></div><div class="ttdoc">CAN Object Capabilities.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:111</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_structARM__DRIVER__CAN"><div class="ttname"><a href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a></div><div class="ttdoc">Access structure of the CAN Driver.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:350</div></div>
<div class="ttc" id="agroup__can__timeseg__ctrls_html_ga01183319a5a899eafea9ffe7af73d5ea"><div class="ttname"><a href="group__can__timeseg__ctrls.html#ga01183319a5a899eafea9ffe7af73d5ea">ARM_CAN_BIT_PROP_SEG</a></div><div class="ttdeci">#define ARM_CAN_BIT_PROP_SEG(x)</div></div>
<div class="ttc" id="agroup__can__timeseg__ctrls_html_ga03f1921ee97a7ebf5d767b6cacf40792"><div class="ttname"><a href="group__can__timeseg__ctrls.html#ga03f1921ee97a7ebf5d767b6cacf40792">ARM_CAN_BIT_PHASE_SEG1</a></div><div class="ttdeci">#define ARM_CAN_BIT_PHASE_SEG1(x)</div></div>
<div class="ttc" id="agroup__can__timeseg__ctrls_html_ga76de056d56803cb7a0d01978ee981e80"><div class="ttname"><a href="group__can__timeseg__ctrls.html#ga76de056d56803cb7a0d01978ee981e80">ARM_CAN_BIT_PHASE_SEG2</a></div><div class="ttdeci">#define ARM_CAN_BIT_PHASE_SEG2(x)</div></div>
<div class="ttc" id="agroup__can__timeseg__ctrls_html_gab32e97fa4edf497c111dd3f0d8779269"><div class="ttname"><a href="group__can__timeseg__ctrls.html#gab32e97fa4edf497c111dd3f0d8779269">ARM_CAN_BIT_SJW</a></div><div class="ttdeci">#define ARM_CAN_BIT_SJW(x)</div></div>
<div class="ttc" id="agroup__execution__status_html_ga85752c5de59e8adeb001e35ff5be6be7"><div class="ttname"><a href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a></div><div class="ttdeci">#define ARM_DRIVER_OK</div><div class="ttdoc">Operation succeeded.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="can_objects"></a>
CAN Message Objects</h1>
<p>The CMSIS-Driver for the CAN interface provides multiple CAN message objects, which can be seen as individual communication channels. The number of available CAN message objects depends on the CAN peripheral. The function <a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a> returns the maximum number of available CAN message objects. The number is encoded in the structure <a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a> in the data field <em>num_objects</em>. CAN message objects are addressed with the functions listed below, whereby the parameter <em>obj_idx</em> addresses an individual object. The valid range for <em>obj_idx</em> is <span class="XML-Token">[0 .. (<em>num_objects</em> - 1)]</span>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Function   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a>   </td><td class="markdownTableBodyLeft">Retrieves message object capabilities such as receive, transmit, <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> automatic handling and <a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a>   </td><td class="markdownTableBodyLeft">Allows to set-up CAN ID filtering for the message object.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a>   </td><td class="markdownTableBodyLeft">Allows to configure the message object for receive, transmit or <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> automatic handling.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a>   </td><td class="markdownTableBodyLeft">Read received message from the message object.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a>   </td><td class="markdownTableBodyLeft">Send CAN message or send <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> or set CAN message to be sent automatically on reception of matching <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> on the message object.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a>   </td><td class="markdownTableBodyLeft">Callback function that signals a message transfer or a received message overrun.   </td></tr>
</table>
<p>Each CAN message object may have different capabilities. Before using a CAN message object, call the function <a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a> to verify the available features.</p>
<h1><a class="anchor" id="can_filtering"></a>
CAN Message Filtering</h1>
<p>The CMSIS-Driver for the CAN interface supports ID filtering for the receiving message objects. The receiving CAN node examines the identifier to decide if it was relevant. This filtering is done by the CAN peripheral according the settings configured with the function <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a>.</p>
<p>The function <a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a> retrieves the filter capabilities of the CAN message objects stored in <a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Data Fields   </th><th class="markdownTableHeadLeft">CAN Messages Object can be filtered with ...    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><em>exact_filtering</em>   </td><td class="markdownTableBodyLeft">an exact ID value set by using the function <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> with <em>control</em> = <a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><em>range_filtering</em>   </td><td class="markdownTableBodyLeft">a range ID value set by using the function <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> with <em>control</em> = <a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5">ARM_CAN_FILTER_ID_RANGE_ADD</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><em>mask_filtering</em>   </td><td class="markdownTableBodyLeft">a mask ID value set by as using the function <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> with <em>control</em> = <a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><em>multiple_filters</em>   </td><td class="markdownTableBodyLeft">... several filters to capture multiple ID values, or ID value ranges.   </td></tr>
</table>
<p><b>CAN message filtering using an exact ID</b></p>
<p>Example: accept in message object #1 only frames with extended ID = 0x1567. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (1, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x1567), 0);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
</div><!-- fragment --><p>Example: accept in message object #2 frames with extended ID = 0x3167 and extended ID = 0x42123. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (2, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x3167), 0);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="line">status = ptrCAN-&gt;ObjectSetFilter (2, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x42123), 0);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
</div><!-- fragment --><p><b>CAN message filtering using a range ID</b></p>
<p>Example: accept in message object #3 only frames with extended ID &gt;= 0x1567 and extended ID &lt;= 0x1577. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (3, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5">ARM_CAN_FILTER_ID_RANGE_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x1567), <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x1577));</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="ttc" id="aDriver__CAN_8h_html_gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5"><div class="ttname"><a href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5">ARM_CAN_FILTER_ID_RANGE_ADD</a></div><div class="ttdeci">@ ARM_CAN_FILTER_ID_RANGE_ADD</div><div class="ttdoc">Add range id filter.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:93</div></div>
</div><!-- fragment --><p><b>CAN message filtering using a mask ID</b></p>
<p>Using the function <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> with <em>control</em> = <a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a> allows to specify with <em>arg</em> a mask value.</p><ul>
<li>if a mask bit is <span class="XML-Token">0</span>, the corresponding <em>ID</em> bit will be accepted, regardless of the value.</li>
<li>if a mask bit is <span class="XML-Token">1</span>, the corresponding <em>ID</em> bit will be compared with the value of the ID filter bit; if they match the message will be accepted otherwise the frame is rejected.</li>
</ul>
<p>Example: accept in message object #0 only frames with extended IDs 0x1560 to 0x156F. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x1560), 0x1FFFFFF0);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="ttc" id="aDriver__CAN_8h_html_gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9"><div class="ttname"><a href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a></div><div class="ttdeci">@ ARM_CAN_FILTER_ID_MASKABLE_ADD</div><div class="ttdoc">Add maskable id filter.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:95</div></div>
</div><!-- fragment --><p>Example: accept in message object #2 only frames with extended IDs 0x35603, 0x35613, 0x35623, and 0x35633. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (2, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x35603), 0x1FFFFFCF);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
</div><!-- fragment --><p>Example: accept any message in object #4 regardless of the ID. </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter (4, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0), 0);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
</div><!-- fragment --><h1><a class="anchor" id="Remote_Frame"></a>
Remote Frame</h1>
<p>In general, data transmission is performed on an autonomous basis with the data source node sending out Data Frames.</p>
<p>However, sending a <b>Remote Frame</b> allows a destination node to request the data from the source node. The examples below shows the data exchange using a <b>Remote Transmission Request (RTR)</b>.</p>
<p><b>Example for automatic Data Message response on RTR</b></p>
<p>For automatic data message response on an RTR, the object is configured with the function <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> <em>obj_cfg</em> = <a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c">ARM_CAN_OBJ_RX_RTR_TX_DATA</a>.</p>
<p>In this case, the function <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> sets a data message that is transmitted when an RTR with a matching CAN ID is received. If <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> was not called before the RTR is received, the response is hardware dependent (either last data message is repeated or no data message is sent until <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> is called).</p>
<p>After data transmission is completed, the driver calls a callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> with <em>event</em> = <a class="el" href="group__CAN__events.html#ga486f0f35ebc7e3b5931ee68b56703503">ARM_CAN_EVENT_SEND_COMPLETE</a> and the related <em>obj_idx</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter(0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U), 0U);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="line">status = trCAN-&gt;ObjectConfigure(0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c">ARM_CAN_OBJ_RX_RTR_TX_DATA</a>);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="line"> </div>
<div class="line">memset(&amp;tx_msg_info, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>));            <span class="comment">// Clear transmit message structure</span></div>
<div class="line">tx_msg_info.<a class="code hl_variable" href="group__can__interface__gr.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>  = <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U);           <span class="comment">// Set ID of message</span></div>
<div class="line">data_buf[0] = <span class="charliteral">&#39;1&#39;</span>;  data_buf[1] = <span class="charliteral">&#39;2&#39;</span>;                        <span class="comment">// Prepare data to transmit</span></div>
<div class="line">data_buf[2] = <span class="charliteral">&#39;3&#39;</span>;  data_buf[3] = <span class="charliteral">&#39;4&#39;</span>;</div>
<div class="line">data_buf[4] = <span class="charliteral">&#39;5&#39;</span>;  data_buf[5] = <span class="charliteral">&#39;6&#39;</span>;</div>
<div class="line">data_buf[6] = <span class="charliteral">&#39;7&#39;</span>;  data_buf[7] = <span class="charliteral">&#39;8&#39;</span>;</div>
<div class="line">ptrCAN-&gt;MessageSend(0, &amp;tx_msg_info, data_buf, 8);            <span class="comment">// Start send message that will be triggered on RTR reception</span></div>
<div class="ttc" id="aDriver__CAN_8h_html_gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c"><div class="ttname"><a href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c">ARM_CAN_OBJ_RX_RTR_TX_DATA</a></div><div class="ttdeci">@ ARM_CAN_OBJ_RX_RTR_TX_DATA</div><div class="ttdoc">CAN object that on RTR reception automatically transmits Data Frame.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:104</div></div>
</div><!-- fragment --><p><b>Example for automatic Data Message reception using RTR</b></p>
<p>For automatic data message reception on an RTR, the object is configured with the function <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> <em>obj_cfg</em> = <a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5">ARM_CAN_OBJ_TX_RTR_RX_DATA</a>.</p>
<p>The receiver or consumer requests data with transmission of an RTR with the <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a>. This RTR requests from the transmitter or producer to send the data message. Once the data message is received, the driver calls a callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> with <em>event</em> = <a class="el" href="group__CAN__events.html#ga2c1082561eeae3b2b8132e81fc241e47">ARM_CAN_EVENT_RECEIVE</a> and the related <em>obj_idx</em>. The received data message can then be read with the function <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectSetFilter(0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>, <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U), 0U);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="line">status = ptrCAN-&gt;ObjectConfigure(0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5">ARM_CAN_OBJ_TX_RTR_RX_DATA</a>);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a>) ... <span class="comment">// error handling</span></div>
<div class="line">memset(&amp;tx_msg_info, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>));            <span class="comment">// Clear transmit message structure</span></div>
<div class="line">tx_msg_info.<a class="code hl_variable" href="group__can__interface__gr.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>  = <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U);           <span class="comment">// Set ID of message</span></div>
<div class="line">tx_msg_info.<a class="code hl_variable" href="group__can__interface__gr.html#a1f32fc9e5d3b33babf5905140e7a53af">rtr</a> = 1;                                          <span class="comment">// Set RTR flag of message to send RTR</span></div>
<div class="line">tx_msg_info.<a class="code hl_variable" href="group__can__interface__gr.html#a811fbb0cb2c2263b1a7440a7e9d78239">dlc</a> = 1;                                          <span class="comment">// Set data length code of message to 1 to request 1 data byte</span></div>
<div class="line">ptrCAN-&gt;MesageSend(0, &amp;tx_msg_info, 0, 0);                    <span class="comment">// Send RTR</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Wait for ARM_CAN_EVENT_RECEIVE</span></div>
<div class="line">ptrCAN-&gt;MessageRead(0, &amp;rx_msg_info, data_buf, 8);            <span class="comment">// Read received message</span></div>
<div class="ttc" id="aDriver__CAN_8h_html_gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5"><div class="ttname"><a href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5">ARM_CAN_OBJ_TX_RTR_RX_DATA</a></div><div class="ttdeci">@ ARM_CAN_OBJ_TX_RTR_RX_DATA</div><div class="ttdoc">CAN object that transmits RTR and automatically receives Data Frame.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:105</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_a1f32fc9e5d3b33babf5905140e7a53af"><div class="ttname"><a href="group__can__interface__gr.html#a1f32fc9e5d3b33babf5905140e7a53af">ARM_CAN_MSG_INFO::rtr</a></div><div class="ttdeci">uint32_t rtr</div><div class="ttdoc">Remote transmission request frame.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:145</div></div>
<div class="ttc" id="agroup__can__interface__gr_html_a811fbb0cb2c2263b1a7440a7e9d78239"><div class="ttname"><a href="group__can__interface__gr.html#a811fbb0cb2c2263b1a7440a7e9d78239">ARM_CAN_MSG_INFO::dlc</a></div><div class="ttdeci">uint32_t dlc</div><div class="ttdoc">Data length code.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:149</div></div>
</div><!-- fragment --> <hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structARM__DRIVER__CAN" id="structARM__DRIVER__CAN"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structARM__DRIVER__CAN">&#9670;&#160;</a></span>ARM_DRIVER_CAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARM_DRIVER_CAN</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Access structure of the CAN Driver. </p>
<p>The functions of the CAN are accessed by function pointers exposed by this structure. Refer to <a class="el" href="theoryOperation.html#DriverFunctions">Common Driver Functions</a> for overview information.</p>
<p>Each instance of a CAN provides such an access structure. The instance is identified by a postfix number in the symbol name of the access structure, for example:</p><ul>
<li><b>Driver_CAN0</b> is the name of the access struct of the first instance (no. 0).</li>
<li><b>Driver_CAN1</b> is the name of the access struct of the second instance (no. 1).</li>
</ul>
<p>A configuration setting in the middleware allows you to connect the middleware to a specific driver instance <b>Driver_CAN<em>n</em></b>. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a30afd9cb3113c037b5f1926f5ef93b59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a30afd9cb3113c037b5f1926f5ef93b59">GetVersion</a> )(void)</td></tr>
<tr class="memdesc:a30afd9cb3113c037b5f1926f5ef93b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga4256d5b23ffcb27759a05f8e6b854f13">ARM_CAN_GetVersion</a> : Get driver version.  <br /></td></tr>
<tr class="separator:a30afd9cb3113c037b5f1926f5ef93b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6594713d03552b9b540a52aad345af9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ab6594713d03552b9b540a52aad345af9">GetCapabilities</a> )(void)</td></tr>
<tr class="memdesc:ab6594713d03552b9b540a52aad345af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a> : Get driver capabilities.  <br /></td></tr>
<tr class="separator:ab6594713d03552b9b540a52aad345af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9f79564764d51a661c7efc97c13eb2"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#acd9f79564764d51a661c7efc97c13eb2">Initialize</a> )(<a class="el" href="group__can__interface__gr.html#gaac07b9fdf614bf439414f5417aaa376e">ARM_CAN_SignalUnitEvent_t</a> cb_unit_event, <a class="el" href="group__can__interface__gr.html#ga7ceceac3e9aa0981c5cacfab88efb4eb">ARM_CAN_SignalObjectEvent_t</a> cb_object_event)</td></tr>
<tr class="memdesc:acd9f79564764d51a661c7efc97c13eb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> : Initialize CAN interface.  <br /></td></tr>
<tr class="separator:acd9f79564764d51a661c7efc97c13eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce2b3d7a3a07099bf07d1eb253e92e3"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a5ce2b3d7a3a07099bf07d1eb253e92e3">Uninitialize</a> )(void)</td></tr>
<tr class="memdesc:a5ce2b3d7a3a07099bf07d1eb253e92e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga1e3e364b64f2ab277399e3279cce5ef8">ARM_CAN_Uninitialize</a> : De-initialize CAN interface.  <br /></td></tr>
<tr class="separator:a5ce2b3d7a3a07099bf07d1eb253e92e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ebae5c6011631f76027f9a16eaf5ce"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a24ebae5c6011631f76027f9a16eaf5ce">PowerControl</a> )(<a class="el" href="group__common__drv__gr.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5">ARM_POWER_STATE</a> state)</td></tr>
<tr class="memdesc:a24ebae5c6011631f76027f9a16eaf5ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga6f634f126ac97daef2f3115aa7bfed7c">ARM_CAN_PowerControl</a> : Control CAN interface power.  <br /></td></tr>
<tr class="separator:a24ebae5c6011631f76027f9a16eaf5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3bafcb8f0f156af02d2eac84322c87"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a7d3bafcb8f0f156af02d2eac84322c87">GetClock</a> )(void)</td></tr>
<tr class="memdesc:a7d3bafcb8f0f156af02d2eac84322c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga1fe6cc207415de604975ae251e269361">ARM_CAN_GetClock</a> : Retrieve CAN base clock frequency.  <br /></td></tr>
<tr class="separator:a7d3bafcb8f0f156af02d2eac84322c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f8fba5d305d66cbf96676fc7dca2c9"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a60f8fba5d305d66cbf96676fc7dca2c9">SetBitrate</a> )(<a class="el" href="group__can__timeseg__ctrls.html#ga11c12020b81a63a73a8b53e96a7e3dea">ARM_CAN_BITRATE_SELECT</a> select, uint32_t bitrate, uint32_t bit_segments)</td></tr>
<tr class="memdesc:a60f8fba5d305d66cbf96676fc7dca2c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga88bb27a8525503a250cca7a2c4a5d07a">ARM_CAN_SetBitrate</a> : Set bitrate for CAN interface.  <br /></td></tr>
<tr class="separator:a60f8fba5d305d66cbf96676fc7dca2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e70589e135fa60323486c7edca766a"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#af7e70589e135fa60323486c7edca766a">SetMode</a> )(<a class="el" href="group__can__bus__mode__ctrls.html#gabbca99c46d478bcf822eee71cdf75dcd">ARM_CAN_MODE</a> mode)</td></tr>
<tr class="memdesc:af7e70589e135fa60323486c7edca766a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a> : Set operating mode for CAN interface.  <br /></td></tr>
<tr class="separator:af7e70589e135fa60323486c7edca766a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4527b64b455de3ff2c365c0de0e3920b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a4527b64b455de3ff2c365c0de0e3920b">ObjectGetCapabilities</a> )(uint32_t obj_idx)</td></tr>
<tr class="memdesc:a4527b64b455de3ff2c365c0de0e3920b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a> : Retrieve capabilities of an object.  <br /></td></tr>
<tr class="separator:a4527b64b455de3ff2c365c0de0e3920b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfe0fa1e318fba603a20b82f08aaf63"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a7cfe0fa1e318fba603a20b82f08aaf63">ObjectSetFilter</a> )(uint32_t obj_idx, <a class="el" href="group__can__filter__operation__ctrls.html#gacb04d0f8b3969ee69362ff2b62941d75">ARM_CAN_FILTER_OPERATION</a> operation, uint32_t id, uint32_t arg)</td></tr>
<tr class="memdesc:a7cfe0fa1e318fba603a20b82f08aaf63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> : Add or remove filter for message reception.  <br /></td></tr>
<tr class="separator:a7cfe0fa1e318fba603a20b82f08aaf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a4fb159ed5ab7accb788559fdfb846"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a03a4fb159ed5ab7accb788559fdfb846">ObjectConfigure</a> )(uint32_t obj_idx, <a class="el" href="group__can__obj__config__ctrls.html#gaa9488554de0575bc821c9f65213c4cd0">ARM_CAN_OBJ_CONFIG</a> obj_cfg)</td></tr>
<tr class="memdesc:a03a4fb159ed5ab7accb788559fdfb846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> : Configure object.  <br /></td></tr>
<tr class="separator:a03a4fb159ed5ab7accb788559fdfb846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b8361177ec7f79e76ec5ffe5e8054b"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#ad4b8361177ec7f79e76ec5ffe5e8054b">MessageSend</a> )(uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, const uint8_t *data, uint8_t size)</td></tr>
<tr class="memdesc:ad4b8361177ec7f79e76ec5ffe5e8054b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> : Send message on CAN bus.  <br /></td></tr>
<tr class="separator:ad4b8361177ec7f79e76ec5ffe5e8054b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9984f08077f75874658d3261c88870"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a2f9984f08077f75874658d3261c88870">MessageRead</a> )(uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, uint8_t *data, uint8_t size)</td></tr>
<tr class="memdesc:a2f9984f08077f75874658d3261c88870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a> : Read message received on CAN bus.  <br /></td></tr>
<tr class="separator:a2f9984f08077f75874658d3261c88870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e96d73d3a3c366aba50bf5304edb029"><td class="memItemLeft" align="right" valign="top">int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a5e96d73d3a3c366aba50bf5304edb029">Control</a> )(uint32_t control, uint32_t arg)</td></tr>
<tr class="memdesc:a5e96d73d3a3c366aba50bf5304edb029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a> : Control CAN interface.  <br /></td></tr>
<tr class="separator:a5e96d73d3a3c366aba50bf5304edb029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6fcbdf6364ae9e01095b0fbdfcaa30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__interface__gr.html#a1e6fcbdf6364ae9e01095b0fbdfcaa30">GetStatus</a> )(void)</td></tr>
<tr class="memdesc:a1e6fcbdf6364ae9e01095b0fbdfcaa30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to <a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a> : Get CAN status.  <br /></td></tr>
<tr class="separator:a1e6fcbdf6364ae9e01095b0fbdfcaa30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a id="a30afd9cb3113c037b5f1926f5ef93b59" name="a30afd9cb3113c037b5f1926f5ef93b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30afd9cb3113c037b5f1926f5ef93b59">&#9670;&#160;</a></span>GetVersion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a>(* GetVersion) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga4256d5b23ffcb27759a05f8e6b854f13">ARM_CAN_GetVersion</a> : Get driver version. </p>

</div>
</div>
<a id="ab6594713d03552b9b540a52aad345af9" name="ab6594713d03552b9b540a52aad345af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6594713d03552b9b540a52aad345af9">&#9670;&#160;</a></span>GetCapabilities</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a>(* GetCapabilities) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a> : Get driver capabilities. </p>

</div>
</div>
<a id="acd9f79564764d51a661c7efc97c13eb2" name="acd9f79564764d51a661c7efc97c13eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9f79564764d51a661c7efc97c13eb2">&#9670;&#160;</a></span>Initialize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* Initialize) (<a class="el" href="group__can__interface__gr.html#gaac07b9fdf614bf439414f5417aaa376e">ARM_CAN_SignalUnitEvent_t</a> cb_unit_event, <a class="el" href="group__can__interface__gr.html#ga7ceceac3e9aa0981c5cacfab88efb4eb">ARM_CAN_SignalObjectEvent_t</a> cb_object_event)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> : Initialize CAN interface. </p>

</div>
</div>
<a id="a5ce2b3d7a3a07099bf07d1eb253e92e3" name="a5ce2b3d7a3a07099bf07d1eb253e92e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce2b3d7a3a07099bf07d1eb253e92e3">&#9670;&#160;</a></span>Uninitialize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* Uninitialize) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga1e3e364b64f2ab277399e3279cce5ef8">ARM_CAN_Uninitialize</a> : De-initialize CAN interface. </p>

</div>
</div>
<a id="a24ebae5c6011631f76027f9a16eaf5ce" name="a24ebae5c6011631f76027f9a16eaf5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ebae5c6011631f76027f9a16eaf5ce">&#9670;&#160;</a></span>PowerControl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* PowerControl) (<a class="el" href="group__common__drv__gr.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5">ARM_POWER_STATE</a> state)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga6f634f126ac97daef2f3115aa7bfed7c">ARM_CAN_PowerControl</a> : Control CAN interface power. </p>

</div>
</div>
<a id="a7d3bafcb8f0f156af02d2eac84322c87" name="a7d3bafcb8f0f156af02d2eac84322c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d3bafcb8f0f156af02d2eac84322c87">&#9670;&#160;</a></span>GetClock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* GetClock) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga1fe6cc207415de604975ae251e269361">ARM_CAN_GetClock</a> : Retrieve CAN base clock frequency. </p>

</div>
</div>
<a id="a60f8fba5d305d66cbf96676fc7dca2c9" name="a60f8fba5d305d66cbf96676fc7dca2c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f8fba5d305d66cbf96676fc7dca2c9">&#9670;&#160;</a></span>SetBitrate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* SetBitrate) (<a class="el" href="group__can__timeseg__ctrls.html#ga11c12020b81a63a73a8b53e96a7e3dea">ARM_CAN_BITRATE_SELECT</a> select, uint32_t bitrate, uint32_t bit_segments)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga88bb27a8525503a250cca7a2c4a5d07a">ARM_CAN_SetBitrate</a> : Set bitrate for CAN interface. </p>

</div>
</div>
<a id="af7e70589e135fa60323486c7edca766a" name="af7e70589e135fa60323486c7edca766a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7e70589e135fa60323486c7edca766a">&#9670;&#160;</a></span>SetMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* SetMode) (<a class="el" href="group__can__bus__mode__ctrls.html#gabbca99c46d478bcf822eee71cdf75dcd">ARM_CAN_MODE</a> mode)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a> : Set operating mode for CAN interface. </p>

</div>
</div>
<a id="a4527b64b455de3ff2c365c0de0e3920b" name="a4527b64b455de3ff2c365c0de0e3920b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4527b64b455de3ff2c365c0de0e3920b">&#9670;&#160;</a></span>ObjectGetCapabilities</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a>(* ObjectGetCapabilities) (uint32_t obj_idx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a> : Retrieve capabilities of an object. </p>

</div>
</div>
<a id="a7cfe0fa1e318fba603a20b82f08aaf63" name="a7cfe0fa1e318fba603a20b82f08aaf63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfe0fa1e318fba603a20b82f08aaf63">&#9670;&#160;</a></span>ObjectSetFilter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* ObjectSetFilter) (uint32_t obj_idx, <a class="el" href="group__can__filter__operation__ctrls.html#gacb04d0f8b3969ee69362ff2b62941d75">ARM_CAN_FILTER_OPERATION</a> operation, uint32_t id, uint32_t arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d">ARM_CAN_ObjectSetFilter</a> : Add or remove filter for message reception. </p>

</div>
</div>
<a id="a03a4fb159ed5ab7accb788559fdfb846" name="a03a4fb159ed5ab7accb788559fdfb846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a4fb159ed5ab7accb788559fdfb846">&#9670;&#160;</a></span>ObjectConfigure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* ObjectConfigure) (uint32_t obj_idx, <a class="el" href="group__can__obj__config__ctrls.html#gaa9488554de0575bc821c9f65213c4cd0">ARM_CAN_OBJ_CONFIG</a> obj_cfg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> : Configure object. </p>

</div>
</div>
<a id="ad4b8361177ec7f79e76ec5ffe5e8054b" name="ad4b8361177ec7f79e76ec5ffe5e8054b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b8361177ec7f79e76ec5ffe5e8054b">&#9670;&#160;</a></span>MessageSend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* MessageSend) (uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, const uint8_t *data, uint8_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> : Send message on CAN bus. </p>

</div>
</div>
<a id="a2f9984f08077f75874658d3261c88870" name="a2f9984f08077f75874658d3261c88870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9984f08077f75874658d3261c88870">&#9670;&#160;</a></span>MessageRead</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* MessageRead) (uint32_t obj_idx, <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *msg_info, uint8_t *data, uint8_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a> : Read message received on CAN bus. </p>

</div>
</div>
<a id="a5e96d73d3a3c366aba50bf5304edb029" name="a5e96d73d3a3c366aba50bf5304edb029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e96d73d3a3c366aba50bf5304edb029">&#9670;&#160;</a></span>Control</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t(* Control) (uint32_t control, uint32_t arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a> : Control CAN interface. </p>

</div>
</div>
<a id="a1e6fcbdf6364ae9e01095b0fbdfcaa30" name="a1e6fcbdf6364ae9e01095b0fbdfcaa30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6fcbdf6364ae9e01095b0fbdfcaa30">&#9670;&#160;</a></span>GetStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a>(* GetStatus) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a> : Get CAN status. </p>

</div>
</div>

</div>
</div>
<a name="structARM__CAN__CAPABILITIES" id="structARM__CAN__CAPABILITIES"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structARM__CAN__CAPABILITIES">&#9670;&#160;</a></span>ARM_CAN_CAPABILITIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARM_CAN_CAPABILITIES</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CAN Device Driver Capabilities. </p>
<p>A CAN driver can be implemented with different capabilities encoded in the data fields of this structure.</p>
<p><b>Returned by:</b></p><ul>
<li><a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> for information about CAN objects. </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a69bd1a164443cf6f501489f4d31f4681" name="a69bd1a164443cf6f501489f4d31f4681"></a>uint32_t</td>
<td class="fieldname">
num_objects: 8</td>
<td class="fielddoc">
Number of <a class="el" href="group__can__interface__gr.html#can_objects">CAN Message Objects</a> available. </td></tr>
<tr><td class="fieldtype">
<a id="ae0514834750c7452431717a881471e2b" name="ae0514834750c7452431717a881471e2b"></a>uint32_t</td>
<td class="fieldname">
reentrant_operation: 1</td>
<td class="fielddoc">
Support for reentrant calls to <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a>, <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a>, <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> and abort message sending used by <a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a15d22d5906d419ed1a7ca0968be00a04" name="a15d22d5906d419ed1a7ca0968be00a04"></a>uint32_t</td>
<td class="fieldname">
fd_mode: 1</td>
<td class="fielddoc">
Support for CAN with flexible data-rate mode (CAN_FD) (set by <a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a>) </td></tr>
<tr><td class="fieldtype">
<a id="a93008ac105806db484e78e0582ca118c" name="a93008ac105806db484e78e0582ca118c"></a>uint32_t</td>
<td class="fieldname">
restricted_mode: 1</td>
<td class="fielddoc">
Support for restricted operation mode (set by <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a>) </td></tr>
<tr><td class="fieldtype">
<a id="a176f42e68d9cba86b3594c40044b86c6" name="a176f42e68d9cba86b3594c40044b86c6"></a>uint32_t</td>
<td class="fieldname">
monitor_mode: 1</td>
<td class="fielddoc">
Support for bus monitoring mode (set by <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a>) </td></tr>
<tr><td class="fieldtype">
<a id="af19cdbb26d3496ed7dd63a59a7c7711f" name="af19cdbb26d3496ed7dd63a59a7c7711f"></a>uint32_t</td>
<td class="fieldname">
internal_loopback: 1</td>
<td class="fielddoc">
Support for internal loopback mode (set by <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a>) </td></tr>
<tr><td class="fieldtype">
<a id="a2b76df7e4bfbdd9866cc906415e626c9" name="a2b76df7e4bfbdd9866cc906415e626c9"></a>uint32_t</td>
<td class="fieldname">
external_loopback: 1</td>
<td class="fielddoc">
Support for external loopback mode (set by <a class="el" href="group__can__interface__gr.html#ga28226a6e223f9b95b4dafb7c2f48a855">ARM_CAN_SetMode</a>) </td></tr>
<tr><td class="fieldtype">
<a id="aa43c4c21b173ada1b6b7568956f0d650" name="aa43c4c21b173ada1b6b7568956f0d650"></a>uint32_t</td>
<td class="fieldname">
reserved: 18</td>
<td class="fielddoc">
Reserved (must be zero) </td></tr>
</table>

</div>
</div>
<a name="structARM__CAN__STATUS" id="structARM__CAN__STATUS"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structARM__CAN__STATUS">&#9670;&#160;</a></span>ARM_CAN_STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARM_CAN_STATUS</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CAN Status. </p>
<p>Structure with information about the status of the CAN unit state and errors. The data fields encode the unit bus state, last error code, transmitter error count, and receiver error count.</p>
<p><b>Returned by:</b></p><ul>
<li><a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a> </li>
</ul>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a96ec94acab56690b3801e3c5fbd09fa2" name="a96ec94acab56690b3801e3c5fbd09fa2"></a>uint32_t</td>
<td class="fieldname">
unit_state: 4</td>
<td class="fielddoc">
Unit bus state. </td></tr>
<tr><td class="fieldtype">
<a id="a2171ea8dff5e4b54e84728aa134854b6" name="a2171ea8dff5e4b54e84728aa134854b6"></a>uint32_t</td>
<td class="fieldname">
last_error_code: 4</td>
<td class="fielddoc">
Last error code. </td></tr>
<tr><td class="fieldtype">
<a id="a8941505f6f3ebd69825c4382184c580f" name="a8941505f6f3ebd69825c4382184c580f"></a>uint32_t</td>
<td class="fieldname">
tx_error_count: 8</td>
<td class="fielddoc">
Transmitter error count. </td></tr>
<tr><td class="fieldtype">
<a id="ab7e8b863b379b786ad1af935aa3ef2e8" name="ab7e8b863b379b786ad1af935aa3ef2e8"></a>uint32_t</td>
<td class="fieldname">
rx_error_count: 8</td>
<td class="fielddoc">
Receiver error count. </td></tr>
<tr><td class="fieldtype">
<a id="aa43c4c21b173ada1b6b7568956f0d650" name="aa43c4c21b173ada1b6b7568956f0d650"></a>uint32_t</td>
<td class="fieldname">
reserved: 8</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structARM__CAN__MSG__INFO" id="structARM__CAN__MSG__INFO"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structARM__CAN__MSG__INFO">&#9670;&#160;</a></span>ARM_CAN_MSG_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARM_CAN_MSG_INFO</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CAN Message Information. </p>
<p>Structure with information about the CAN message.</p>
<p>In CAN mode, the following <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> data fields are ignored: <em>edl</em>, <em>brs</em>, <em>esi</em>. <br  />
In CAN FD mode, the following <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> data field is ignored: <em>rtr</em>.</p>
<p><b>Parameter for:</b></p><ul>
<li><a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a></li>
<li><a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="abaabdc509cdaba7df9f56c6c76f3ae19" name="abaabdc509cdaba7df9f56c6c76f3ae19"></a>uint32_t</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
CAN identifier with frame format specifier (bit 31) </td></tr>
<tr><td class="fieldtype">
<a id="a1f32fc9e5d3b33babf5905140e7a53af" name="a1f32fc9e5d3b33babf5905140e7a53af"></a>uint32_t</td>
<td class="fieldname">
rtr: 1</td>
<td class="fielddoc">
Remote transmission request frame. </td></tr>
<tr><td class="fieldtype">
<a id="ab6883964c9d4bdf60616684e8d2459df" name="ab6883964c9d4bdf60616684e8d2459df"></a>uint32_t</td>
<td class="fieldname">
edl: 1</td>
<td class="fielddoc">
Flexible data-rate format extended data length. </td></tr>
<tr><td class="fieldtype">
<a id="a3539c043c5868c59f76c736fe2bcadf4" name="a3539c043c5868c59f76c736fe2bcadf4"></a>uint32_t</td>
<td class="fieldname">
brs: 1</td>
<td class="fielddoc">
Flexible data-rate format with bitrate switch. </td></tr>
<tr><td class="fieldtype">
<a id="ada78e3124de6adf5a5d212f9ebc4bbe0" name="ada78e3124de6adf5a5d212f9ebc4bbe0"></a>uint32_t</td>
<td class="fieldname">
esi: 1</td>
<td class="fielddoc">
Flexible data-rate format error state indicator. </td></tr>
<tr><td class="fieldtype">
<a id="a811fbb0cb2c2263b1a7440a7e9d78239" name="a811fbb0cb2c2263b1a7440a7e9d78239"></a>uint32_t</td>
<td class="fieldname">
dlc: 4</td>
<td class="fielddoc">
Data length code. </td></tr>
<tr><td class="fieldtype">
<a id="aa43c4c21b173ada1b6b7568956f0d650" name="aa43c4c21b173ada1b6b7568956f0d650"></a>uint32_t</td>
<td class="fieldname">
reserved: 24</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structARM__CAN__OBJ__CAPABILITIES" id="structARM__CAN__OBJ__CAPABILITIES"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structARM__CAN__OBJ__CAPABILITIES">&#9670;&#160;</a></span>ARM_CAN_OBJ_CAPABILITIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARM_CAN_OBJ_CAPABILITIES</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CAN Object Capabilities. </p>
<p>A CAN object can be implemented with different capabilities encoded in the data fields of this structure.</p>
<p><b>Returned by</b>:</p><ul>
<li><a class="el" href="group__can__interface__gr.html#ga45ab314f5121cf5a1b32d9adc600e0f7">ARM_CAN_ObjectGetCapabilities</a></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a9706173b2ed538efeb5ee4a952e2272f" name="a9706173b2ed538efeb5ee4a952e2272f"></a>uint32_t</td>
<td class="fieldname">
tx: 1</td>
<td class="fielddoc">
Object supports transmission. </td></tr>
<tr><td class="fieldtype">
<a id="a895532773c3204e1538191f155c7bac8" name="a895532773c3204e1538191f155c7bac8"></a>uint32_t</td>
<td class="fieldname">
rx: 1</td>
<td class="fielddoc">
Object supports reception. </td></tr>
<tr><td class="fieldtype">
<a id="a8a41139926d7c032247458d055071fda" name="a8a41139926d7c032247458d055071fda"></a>uint32_t</td>
<td class="fieldname">
rx_rtr_tx_data: 1</td>
<td class="fielddoc">
Object supports RTR reception and automatic Data Frame transmission. </td></tr>
<tr><td class="fieldtype">
<a id="a1debac19545140bdfe3c5fa8d53f1863" name="a1debac19545140bdfe3c5fa8d53f1863"></a>uint32_t</td>
<td class="fieldname">
tx_rtr_rx_data: 1</td>
<td class="fielddoc">
Object supports RTR transmission and automatic Data Frame reception. </td></tr>
<tr><td class="fieldtype">
<a id="a3662fb9a8fb81212043cadd90da704af" name="a3662fb9a8fb81212043cadd90da704af"></a>uint32_t</td>
<td class="fieldname">
multiple_filters: 1</td>
<td class="fielddoc">
Object allows assignment of multiple filters to it. </td></tr>
<tr><td class="fieldtype">
<a id="a886337af58da4f995529eba228fb9b7a" name="a886337af58da4f995529eba228fb9b7a"></a>uint32_t</td>
<td class="fieldname">
exact_filtering: 1</td>
<td class="fielddoc">
Object supports exact identifier filtering. </td></tr>
<tr><td class="fieldtype">
<a id="a96dcf869f4adc9cec686630082c7c60a" name="a96dcf869f4adc9cec686630082c7c60a"></a>uint32_t</td>
<td class="fieldname">
range_filtering: 1</td>
<td class="fielddoc">
Object supports range identifier filtering. </td></tr>
<tr><td class="fieldtype">
<a id="a2aa0e772d6cb8c30bb76ce1324423464" name="a2aa0e772d6cb8c30bb76ce1324423464"></a>uint32_t</td>
<td class="fieldname">
mask_filtering: 1</td>
<td class="fielddoc">
Object supports mask identifier filtering. </td></tr>
<tr><td class="fieldtype">
<a id="a5a782fc223b0ea5034c6676eaec6f2d4" name="a5a782fc223b0ea5034c6676eaec6f2d4"></a>uint32_t</td>
<td class="fieldname">
message_depth: 8</td>
<td class="fielddoc">
Number of messages buffers (FIFO) for that object. </td></tr>
<tr><td class="fieldtype">
<a id="aa43c4c21b173ada1b6b7568956f0d650" name="aa43c4c21b173ada1b6b7568956f0d650"></a>uint32_t</td>
<td class="fieldname">
reserved: 16</td>
<td class="fielddoc">
Reserved (must be zero) </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaac07b9fdf614bf439414f5417aaa376e" name="gaac07b9fdf614bf439414f5417aaa376e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac07b9fdf614bf439414f5417aaa376e">&#9670;&#160;</a></span>ARM_CAN_SignalUnitEvent_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARM_CAN_SignalUnitEvent_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> : Signal CAN Unit Event. </p>
<p>Provides the typedef for the callback function <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a>.</p>
<p><b>Parameter for:</b></p><ul>
<li><a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> </li>
</ul>

</div>
</div>
<a id="ga7ceceac3e9aa0981c5cacfab88efb4eb" name="ga7ceceac3e9aa0981c5cacfab88efb4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ceceac3e9aa0981c5cacfab88efb4eb">&#9670;&#160;</a></span>ARM_CAN_SignalObjectEvent_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARM_CAN_SignalObjectEvent_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> : Signal CAN Object Event. </p>
<p>Provides the typedef for the callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a>.</p>
<p><b>Parameter for:</b></p><ul>
<li><a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> </li>
</ul>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4256d5b23ffcb27759a05f8e6b854f13" name="ga4256d5b23ffcb27759a05f8e6b854f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4256d5b23ffcb27759a05f8e6b854f13">&#9670;&#160;</a></span>ARM_CAN_GetVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a> ARM_CAN_GetVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get driver version. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a></dd></dl>
<p>The function <b>ARM_CAN_GetVersion</b> returns version information of the driver implementation in <a class="el" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a></p><ul>
<li>API version is the version of the CMSIS-Driver specification used to implement this driver.</li>
<li>Driver version is source code version of the actual driver implementation.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">extern</span> <a class="code hl_struct" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a> Driver_CAN0;</div>
<div class="line"><a class="code hl_struct" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a> *drv_info;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup_can (<span class="keywordtype">void</span>)  {</div>
<div class="line">  <a class="code hl_struct" href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a>  version;</div>
<div class="line"> </div>
<div class="line">  drv_info = &amp;Driver_CAN0;</div>
<div class="line">  version = drv_info-&gt;<a class="code hl_variable" href="group__can__interface__gr.html#a30afd9cb3113c037b5f1926f5ef93b59">GetVersion</a> ();</div>
<div class="line">  <span class="keywordflow">if</span> (version.<a class="code hl_variable" href="group__common__drv__gr.html#ad180da20fbde1d3dafc074af87c19540">api</a> &lt; 0x10A)   {      <span class="comment">// requires at minimum API version 1.10 or higher</span></div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__can__interface__gr_html_a30afd9cb3113c037b5f1926f5ef93b59"><div class="ttname"><a href="group__can__interface__gr.html#a30afd9cb3113c037b5f1926f5ef93b59">ARM_DRIVER_CAN::GetVersion</a></div><div class="ttdeci">ARM_DRIVER_VERSION(* GetVersion)(void)</div><div class="ttdoc">Pointer to ARM_CAN_GetVersion : Get driver version.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:351</div></div>
<div class="ttc" id="agroup__common__drv__gr_html_ad180da20fbde1d3dafc074af87c19540"><div class="ttname"><a href="group__common__drv__gr.html#ad180da20fbde1d3dafc074af87c19540">ARM_DRIVER_VERSION::api</a></div><div class="ttdeci">uint16_t api</div><div class="ttdoc">API version.</div><div class="ttdef"><b>Definition:</b> Driver_Common.h:47</div></div>
<div class="ttc" id="agroup__common__drv__gr_html_structARM__DRIVER__VERSION"><div class="ttname"><a href="group__common__drv__gr.html#structARM__DRIVER__VERSION">ARM_DRIVER_VERSION</a></div><div class="ttdoc">Driver Version.</div><div class="ttdef"><b>Definition:</b> Driver_Common.h:46</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga35f21cabe1637b1be964024a8f77721c" name="ga35f21cabe1637b1be964024a8f77721c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35f21cabe1637b1be964024a8f77721c">&#9670;&#160;</a></span>ARM_CAN_GetCapabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a> ARM_CAN_GetCapabilities </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get driver capabilities. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a></dd></dl>
<p>The function <b>ARM_CAN_GetCapabilities</b> returns information about the capabilities in this driver implementation. The data fields of the structure <a class="el" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a> encode various capabilities.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">extern</span> <a class="code hl_struct" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a> Driver_CAN0;</div>
<div class="line"><a class="code hl_struct" href="group__can__interface__gr.html#structARM__DRIVER__CAN">ARM_DRIVER_CAN</a> *drv_info;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> read_capabilities (<span class="keywordtype">void</span>)  {</div>
<div class="line">  <a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__CAPABILITIES">ARM_CAN_CAPABILITIES</a> drv_capabilities;</div>
<div class="line"> </div>
<div class="line">  drv_info = &amp;Driver_CAN0;</div>
<div class="line">  drv_capabilities = drv_info-&gt;<a class="code hl_variable" href="group__can__interface__gr.html#ab6594713d03552b9b540a52aad345af9">GetCapabilities</a> ();</div>
<div class="line">  <span class="comment">// interrogate capabilities</span></div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="agroup__can__interface__gr_html_ab6594713d03552b9b540a52aad345af9"><div class="ttname"><a href="group__can__interface__gr.html#ab6594713d03552b9b540a52aad345af9">ARM_DRIVER_CAN::GetCapabilities</a></div><div class="ttdeci">ARM_CAN_CAPABILITIES(* GetCapabilities)(void)</div><div class="ttdoc">Pointer to ARM_CAN_GetCapabilities : Get driver capabilities.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.h:352</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaa72ceb25ba67e279d7432404632deb44" name="gaa72ceb25ba67e279d7432404632deb44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa72ceb25ba67e279d7432404632deb44">&#9670;&#160;</a></span>ARM_CAN_Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__can__interface__gr.html#gaac07b9fdf614bf439414f5417aaa376e">ARM_CAN_SignalUnitEvent_t</a>&#160;</td>
          <td class="paramname"><em>cb_unit_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__can__interface__gr.html#ga7ceceac3e9aa0981c5cacfab88efb4eb">ARM_CAN_SignalObjectEvent_t</a>&#160;</td>
          <td class="paramname"><em>cb_object_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize CAN interface and register signal (callback) functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_unit_event</td><td>Pointer to <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_object_event</td><td>Pointer to <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>initializes</b> the CAN interface.</p>
<p>The function performs the following operations:</p><ul>
<li>Initializes the resources needed for the CAN interface, for example dynamic memory allocation, RTOS object allocation, and possibly hardware pin configuration.</li>
<li>Registers the <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> callback function.</li>
<li>Registers the <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> callback function.</li>
</ul>
<p>The parameter <em>cb_unit_event</em> is a pointer to the <a class="el" href="group__can__interface__gr.html#ga38795d1ed135ce3bd87f31ef1596bccf">ARM_CAN_SignalUnitEvent</a> callback function; use a NULL pointer when no callback signals are required.</p>
<p>The parameter <em>cb_object_event</em> is a pointer to the <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> callback function; use a NULL pointer when no callback signals are required.</p>
<p><b>Example:</b> </p><ul>
<li>see <a class="el" href="group__can__interface__gr.html">CAN Interface</a> </li>
</ul>

</div>
</div>
<a id="ga1e3e364b64f2ab277399e3279cce5ef8" name="ga1e3e364b64f2ab277399e3279cce5ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e3e364b64f2ab277399e3279cce5ef8">&#9670;&#160;</a></span>ARM_CAN_Uninitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_Uninitialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-initialize CAN interface. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_Uninitialize</b> de-initializes the resources of the CAN interface. It is called to release the software resources used by the interface such as deallocate any RTOS objects, dynamic memory and pin de-configuration. </p>

</div>
</div>
<a id="ga6f634f126ac97daef2f3115aa7bfed7c" name="ga6f634f126ac97daef2f3115aa7bfed7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f634f126ac97daef2f3115aa7bfed7c">&#9670;&#160;</a></span>ARM_CAN_PowerControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_PowerControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__common__drv__gr.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5">ARM_POWER_STATE</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control CAN interface power. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>Power state<ul>
<li><a class="el" href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5ab6f5becc85ebd51c3dd2524a95d2ca35">ARM_POWER_OFF</a> : power off: no operation possible</li>
<li><a class="el" href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5a9ef9e57cbcc948d0e22314e73dc8c434">ARM_POWER_LOW</a> : low power mode: retain state, detect and signal wake-up events</li>
<li><a class="el" href="Driver__Common_8h.html#ga47d6d7c31f88f3b8ae4aaf9d8444afa5abed52b77a9ce4775570e44a842b1295e">ARM_POWER_FULL</a> : power on: full operation at maximum performance </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_PowerControl</b> controls the power modes of the CAN interface.</p>
<p>The parameter <em>state</em> can be:</p><ul>
<li>ARM_POWER_FULL: Activate clocks and driver functionality as if peripheral was reset.</li>
<li>ARM_POWER_OFF: Unconditionally put peripheral into non-functional (reset) state.</li>
<li>ARM_POWER_LOW: Put peripheral into low power consumption state ready to wake up on bus event. </li>
</ul>

</div>
</div>
<a id="ga1fe6cc207415de604975ae251e269361" name="ga1fe6cc207415de604975ae251e269361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1fe6cc207415de604975ae251e269361">&#9670;&#160;</a></span>ARM_CAN_GetClock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ARM_CAN_GetClock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve CAN base clock frequency. </p>
<dl class="section return"><dt>Returns</dt><dd>base clock frequency</dd></dl>
<p>The function <b>ARM_CAN_GetClock</b> returns the CAN base clock frequency in <span class="XML-Token">[Hz]</span>. This value may be used to validate the <em>bitrate</em> for the function <a class="el" href="group__can__interface__gr.html#ga88bb27a8525503a250cca7a2c4a5d07a">ARM_CAN_SetBitrate</a>.</p>
<p><b>Example</b>: </p><div class="fragment"><div class="line">CAN_clock = <a class="code hl_function" href="group__can__interface__gr.html#ga1fe6cc207415de604975ae251e269361">ARM_CAN_GetClock</a>();  <span class="comment">// CAN base clock frequency</span></div>
<div class="ttc" id="agroup__can__interface__gr_html_ga1fe6cc207415de604975ae251e269361"><div class="ttname"><a href="group__can__interface__gr.html#ga1fe6cc207415de604975ae251e269361">ARM_CAN_GetClock</a></div><div class="ttdeci">uint32_t ARM_CAN_GetClock(void)</div><div class="ttdoc">Retrieve CAN base clock frequency.</div><div class="ttdef"><b>Definition:</b> Driver_CAN.c:702</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga88bb27a8525503a250cca7a2c4a5d07a" name="ga88bb27a8525503a250cca7a2c4a5d07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88bb27a8525503a250cca7a2c4a5d07a">&#9670;&#160;</a></span>ARM_CAN_SetBitrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_SetBitrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__can__timeseg__ctrls.html#ga11c12020b81a63a73a8b53e96a7e3dea">ARM_CAN_BITRATE_SELECT</a>&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bit_segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set bitrate for CAN interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">select</td><td>Bitrate selection<ul>
<li><a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a> : nominal (flexible data-rate arbitration) bitrate</li>
<li><a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaaa6c9996de0cdf42da5c02086cd8f16dc">ARM_CAN_BITRATE_FD_DATA</a> : flexible data-rate data bitrate </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bitrate</td><td>Bitrate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bit_segments</td><td>Bit segments settings<ul>
<li><a class="el" href="group__can__timeseg__ctrls.html#ga01183319a5a899eafea9ffe7af73d5ea">ARM_CAN_BIT_PROP_SEG(x)</a> : number of time quanta for propagation time segment</li>
<li><a class="el" href="group__can__timeseg__ctrls.html#ga03f1921ee97a7ebf5d767b6cacf40792">ARM_CAN_BIT_PHASE_SEG1(x)</a> : number of time quanta for phase buffer segment 1</li>
<li><a class="el" href="group__can__timeseg__ctrls.html#ga76de056d56803cb7a0d01978ee981e80">ARM_CAN_BIT_PHASE_SEG2(x)</a> : number of time quanta for phase buffer Segment 2</li>
<li><a class="el" href="group__can__timeseg__ctrls.html#gab32e97fa4edf497c111dd3f0d8779269">ARM_CAN_BIT_SJW(x)</a> : number of time quanta for (re-)synchronization jump width </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p><br  />
 The function <b>ARM_CAN_SetBitrate</b> sets the CAN communication bit rate.</p>
<p>The parameter <em>select</em> selects the bit rate affected by function call as defined in <a class="el" href="group__can__timeseg__ctrls.html#ga11c12020b81a63a73a8b53e96a7e3dea">ARM_CAN_BITRATE_SELECT</a> and listed in the table below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Parameter <em>select</em>   </th><th class="markdownTableHeadLeft">CAN Mode Bit Rate    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a>   </td><td class="markdownTableBodyLeft">Select nominal (flexible data-rate arbitration) bitrate (CAN 2.0B)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaaa6c9996de0cdf42da5c02086cd8f16dc">ARM_CAN_BITRATE_FD_DATA</a>   </td><td class="markdownTableBodyLeft">Select flexible data-rate data bitrate (<a class="el" href="group__can__interface__gr.html#CAN_FD">CAN_FD</a>)   </td></tr>
</table>
<p>The parameter <em>bitrate</em> is the bit rate for the selected CAN mode.</p>
<p>The parameter <em>bit_segments</em> is used to setup the time quanta for sampling (see picture below). The values listed in the table below are ORed and specify the various sampling segments. The CAN controller samples each bit on the bus at the <em>Sample Point</em>.</p>
<table class="cmtable">
<tr>
<th>Parameter <em>bit_segments</em>  </th><th>Bit <br  />
 </th><th>for <em>select</em> = <a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a> <br  />
 (CAN specification) </th><th>for <em>select</em> = <a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a> <br  />
 (CAN FD specification) </th><th>for <em>select</em> = <a class="el" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaaa6c9996de0cdf42da5c02086cd8f16dc">ARM_CAN_BITRATE_FD_DATA</a> <br  />
 (CAN FD specification)  </th></tr>
<tr>
<td><a class="el" href="group__can__timeseg__ctrls.html#ga01183319a5a899eafea9ffe7af73d5ea">ARM_CAN_BIT_PROP_SEG</a>(<em>x</em>) <br  />
 Propagation Time Segment <br  />
 (PROP_SEG)  </td><td>0..7  </td><td><em>x</em> = <span class="XML-Token">[1..8]</span> </td><td><em>x</em> = <span class="XML-Token">[1..32] or more</span> <br  />
 </td><td><em>x</em> = <span class="XML-Token">[0..8]</span> <br  />
  </td></tr>
<tr>
<td><a class="el" href="group__can__timeseg__ctrls.html#ga03f1921ee97a7ebf5d767b6cacf40792">ARM_CAN_BIT_PHASE_SEG1</a>(<em>x</em>) <br  />
 Phase Buffer Segment 1 <br  />
 (PHASE_SEG1)  </td><td>8..15  </td><td><em>x</em> = <span class="XML-Token">[1..8]</span> </td><td><em>x</em> = <span class="XML-Token">[1..32] or more</span> <br  />
 </td><td><em>x</em> = <span class="XML-Token">[1..8]</span> <br  />
  </td></tr>
<tr>
<td rowspan="2"><a class="el" href="group__can__timeseg__ctrls.html#ga76de056d56803cb7a0d01978ee981e80">ARM_CAN_BIT_PHASE_SEG2</a>(<em>x</em>) <br  />
 Phase Buffer Segment 2 <br  />
 (PHASE_SEG2)  </td><td rowspan="2">16..23  </td><td><em>x</em> = <span class="XML-Token">[1..8]</span>  </td><td><em>x</em> = <span class="XML-Token">[1..32] or more</span> <br  />
 </td><td><em>x</em> = <span class="XML-Token">[1..8]</span> <br  />
 </td></tr>
<tr>
<td colspan="3">The maximum allowed value is <span class="XML-Token">x = MAX (PHASE_SEG1, IPT)</span>. IPT = Information Processing Time. Usually, IPT = <span class="XML-Token">2</span>. Exceptions apply. Read the specifications of your CAN controller.  </td></tr>
<tr>
<td rowspan="2"><a class="el" href="group__can__timeseg__ctrls.html#gab32e97fa4edf497c111dd3f0d8779269">ARM_CAN_BIT_SJW</a>(<em>x</em>) <br  />
 (Re-)Synchronization Jump Width <br  />
 (SJW).  </td><td rowspan="2">24..31  </td><td><em>x</em> = <span class="XML-Token">[1..4]</span> </td><td><em>x</em> = <span class="XML-Token">[1..4]</span> <br  />
 </td><td><em>x</em> = <span class="XML-Token">[1..4]</span> <br  />
 </td></tr>
<tr>
<td colspan="3">The maximum allowed value is <span class="XML-Token">x = MIN (MIN (PHASE_SEG1, PHASE_SEG2), 4)</span>. SJW is not allowed to be greater than either PHASE segment.   </td></tr>
</table>
<p>The picture shows a Nominal Bit Time with 10 time quanta. </p><div class="image">
<img src="CAN_Bit_Timing.png" alt=""/>
<div class="caption">
CAN Bit Timing</div></div>
 <p>The time quanta (N) per bit is: </p><div class="fragment"><div class="line">N = 1 + PROP_SEG + PHASE_SEG1 + PHASE_SEG2; <span class="comment">// note SYNC_SEG is always 1</span></div>
</div><!-- fragment --><p>The driver uses this value and the CAN clock to calculate a suitable prescaler value (P). If the driver cannot achieve the requested <em>bitrate</em> it returns with <a class="el" href="Driver__CAN_8h.html#a90b9d9323a6049fb4fcd1efe7c892294">ARM_CAN_INVALID_BITRATE</a>. The formula for the <em>bitrate</em> is: </p><div class="fragment"><div class="line">bitrate = (CAN_Clock / P) / N;</div>
</div><!-- fragment --><p><b>Example</b>: </p><div class="fragment"><div class="line">status = ptrCAN-&gt;SetBitrate    (<a class="code hl_enumvalue" href="Driver__CAN_8h.html#ga11c12020b81a63a73a8b53e96a7e3deaa3b6d191c99f1eba4f01bcc5fbfaf67f3">ARM_CAN_BITRATE_NOMINAL</a>,              <span class="comment">// Set nominal bitrate</span></div>
<div class="line">                                125000U,                              <span class="comment">// Set bitrate to 125 kbit/s</span></div>
<div class="line">                                <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga01183319a5a899eafea9ffe7af73d5ea">ARM_CAN_BIT_PROP_SEG</a>(5U)   |          <span class="comment">// Set propagation segment to 5 time quanta</span></div>
<div class="line">                                <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga03f1921ee97a7ebf5d767b6cacf40792">ARM_CAN_BIT_PHASE_SEG1</a>(1U) |          <span class="comment">// Set phase segment 1 to 1 time quantum (sample point at 87.5% of bit time)</span></div>
<div class="line">                                <a class="code hl_define" href="group__can__timeseg__ctrls.html#ga76de056d56803cb7a0d01978ee981e80">ARM_CAN_BIT_PHASE_SEG2</a>(1U) |          <span class="comment">// Set phase segment 2 to 1 time quantum (total bit is 8 time quanta long)</span></div>
<div class="line">                                <a class="code hl_define" href="group__can__timeseg__ctrls.html#gab32e97fa4edf497c111dd3f0d8779269">ARM_CAN_BIT_SJW</a>(1U));                 <span class="comment">// Resynchronization jump width is same as phase segment 2</span></div>
</div><!-- fragment --><p>In this example, N = 8 and with a CAN_Clock = 8MHz the prescaler (P) is calculated by the driver to 8. </p>

</div>
</div>
<a id="ga28226a6e223f9b95b4dafb7c2f48a855" name="ga28226a6e223f9b95b4dafb7c2f48a855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28226a6e223f9b95b4dafb7c2f48a855">&#9670;&#160;</a></span>ARM_CAN_SetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_SetMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__can__bus__mode__ctrls.html#gabbca99c46d478bcf822eee71cdf75dcd">ARM_CAN_MODE</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set operating mode for CAN interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Operating mode<ul>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda9967a5ebaa045afe54d75e5629676ddc">ARM_CAN_MODE_INITIALIZATION</a> : initialization mode</li>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcdaa3190344bdf3452462e5c0518ac3cdc4">ARM_CAN_MODE_NORMAL</a> : normal operation mode</li>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda22a9bb26e68c2a04f641d466040d755d">ARM_CAN_MODE_RESTRICTED</a> : restricted operation mode</li>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda904f68f08c84c4b85c763f5d98c574ab">ARM_CAN_MODE_MONITOR</a> : bus monitoring mode</li>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda8579315576baa43860a398a30fd527d8">ARM_CAN_MODE_LOOPBACK_INTERNAL</a> : loopback internal mode</li>
<li><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda5ee1ba60abcf39d575e7cb309e641b9b">ARM_CAN_MODE_LOOPBACK_EXTERNAL</a> : loopback external mode </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_SetMode</b> sets the CAN bus communication mode using the parameter <em>mode</em>.</p>
<p>The table lists the values for <em>mode</em>.</p>
<table class="cmtable">
<tr>
<th>Parameter <em>mode</em>  <br  />
 </th><th>Bus Communication Mode </th><th>supported when <a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> data field  </th></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda9967a5ebaa045afe54d75e5629676ddc">ARM_CAN_MODE_INITIALIZATION</a> <br  />
 </td><td>Initialization mode; Used to setup communication parameters for the reception objects and global filtering, while peripheral is not active on the bus. Refer to <a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a> for details. </td><td><em>always supported</em>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcdaa3190344bdf3452462e5c0518ac3cdc4">ARM_CAN_MODE_NORMAL</a> </td><td>Normal operation mode. Used when peripheral is in active mode to receive, transmit, and acknowledge messages on the bus. Depending on the current unit state, it can generate error or overload messages. Verify the unit state with <a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a>. </td><td><em>always supported</em>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda22a9bb26e68c2a04f641d466040d755d">ARM_CAN_MODE_RESTRICTED</a> </td><td>Restricted operation mode. Used for monitoring the bus communication non-intrusively without transmitting. </td><td><em>restricted_mode</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda904f68f08c84c4b85c763f5d98c574ab">ARM_CAN_MODE_MONITOR</a> </td><td>Bus monitoring mode. </td><td><em>monitor_mode</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda8579315576baa43860a398a30fd527d8">ARM_CAN_MODE_LOOPBACK_INTERNAL</a> </td><td>Test mode; loopback of CAN transmission to its receiver. No transmission visible on CAN bus. </td><td><em>internal_loopback</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gabbca99c46d478bcf822eee71cdf75dcda5ee1ba60abcf39d575e7cb309e641b9b">ARM_CAN_MODE_LOOPBACK_EXTERNAL</a> </td><td>Test mode; loopback of CAN transmission to its receiver. Transmission is visible on CAN bus. </td><td><em>external_loopback</em> = <span class="XML-Token">1</span>  </td></tr>
</table>

</div>
</div>
<a id="ga45ab314f5121cf5a1b32d9adc600e0f7" name="ga45ab314f5121cf5a1b32d9adc600e0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45ab314f5121cf5a1b32d9adc600e0f7">&#9670;&#160;</a></span>ARM_CAN_ObjectGetCapabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> ARM_CAN_ObjectGetCapabilities </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve capabilities of an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a></dd></dl>
<p>The function <b>ARM_CAN_ObjectGetCapabilities</b> retrieves the capabilities of a CAN object. The structure <a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> stores the values.</p>
<p>The parameter <em>obj_idx</em> is the message object index.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630" title="Configure object.">ARM_CAN_ObjectConfigure</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d" title="Add or remove filter for message reception.">ARM_CAN_ObjectSetFilter</a> </dd></dl>

</div>
</div>
<a id="ga4f9bc7088704483388e14872c9d5385d" name="ga4f9bc7088704483388e14872c9d5385d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f9bc7088704483388e14872c9d5385d">&#9670;&#160;</a></span>ARM_CAN_ObjectSetFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_ObjectSetFilter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__can__filter__operation__ctrls.html#gacb04d0f8b3969ee69362ff2b62941d75">ARM_CAN_FILTER_OPERATION</a>&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove filter for message reception. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index of object that filter should be or is assigned to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Operation on filter<ul>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a> : add exact id filter</li>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a6fdaecf3fa244ef1e4d1069d9c6c95f8">ARM_CAN_FILTER_ID_EXACT_REMOVE</a> : remove exact id filter</li>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5">ARM_CAN_FILTER_ID_RANGE_ADD</a> : add range id filter</li>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a17fea7d388dc702bb3318ecae911f50d">ARM_CAN_FILTER_ID_RANGE_REMOVE</a> : remove range id filter</li>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a> : add maskable id filter</li>
<li><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ad9573d5d0e112aece7abc0bc24aa92fb">ARM_CAN_FILTER_ID_MASKABLE_REMOVE</a> : remove maskable id filter </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID or start of ID range (depending on filter type) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Mask or end of ID range (depending on filter type) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_ObjectSetFilter</b> sets or removes the filter for message reception. Refer to <a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a> for details on filtering.</p>
<p>The parameter <em>obj_idx</em> is the message object index. <br  />
The parameter <em>operation</em> is the operation on the filter as listed in the table below and which are defined in the structure <a class="el" href="group__can__filter__operation__ctrls.html#gacb04d0f8b3969ee69362ff2b62941d75">ARM_CAN_FILTER_OPERATION</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Parameter <em>operation</em>   </th><th class="markdownTableHeadLeft">Operation on Filter   </th><th class="markdownTableHeadLeft">supported when <a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> data field    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75aa734058b50573de3b0cc49311997806b">ARM_CAN_FILTER_ID_EXACT_ADD</a>   </td><td class="markdownTableBodyLeft">Add exact ID filter   </td><td class="markdownTableBodyLeft"><em>exact_filtering</em> = <span class="XML-Token">1</span>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a6fdaecf3fa244ef1e4d1069d9c6c95f8">ARM_CAN_FILTER_ID_EXACT_REMOVE</a>   </td><td class="markdownTableBodyLeft">Remove exact ID filter   </td><td class="markdownTableBodyLeft"><em>exact_filtering</em> = <span class="XML-Token">1</span>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a22123bef8e773844fce604c553bf2ed5">ARM_CAN_FILTER_ID_RANGE_ADD</a>   </td><td class="markdownTableBodyLeft">Add range ID filter   </td><td class="markdownTableBodyLeft"><em>range_filtering</em> = <span class="XML-Token">1</span>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75a17fea7d388dc702bb3318ecae911f50d">ARM_CAN_FILTER_ID_RANGE_REMOVE</a>   </td><td class="markdownTableBodyLeft">Remove range ID filter   </td><td class="markdownTableBodyLeft"><em>range_filtering</em> = <span class="XML-Token">1</span>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ac4ad302fa9b762c1d14964141e234ba9">ARM_CAN_FILTER_ID_MASKABLE_ADD</a>   </td><td class="markdownTableBodyLeft">Add maskable ID filter   </td><td class="markdownTableBodyLeft"><em>mask_filtering</em> = <span class="XML-Token">1</span>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="Driver__CAN_8h.html#gacb04d0f8b3969ee69362ff2b62941d75ad9573d5d0e112aece7abc0bc24aa92fb">ARM_CAN_FILTER_ID_MASKABLE_REMOVE</a>   </td><td class="markdownTableBodyLeft">Remove maskable ID filter   </td><td class="markdownTableBodyLeft"><em>mask_filtering</em> = <span class="XML-Token">1</span>   </td></tr>
</table>
<p>The parameter <em>id</em> is the identifier of the filter or defines the start of the filter range (depends on the filter operation). <br  />
The parameter <em>arg</em> is the mask of the filter or defines the end of the filter range (depends on the filter operation).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630" title="Configure object.">ARM_CAN_ObjectConfigure</a> </dd></dl>

</div>
</div>
<a id="ga00ec0715f6755a49dae5b60dca182630" name="ga00ec0715f6755a49dae5b60dca182630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00ec0715f6755a49dae5b60dca182630">&#9670;&#160;</a></span>ARM_CAN_ObjectConfigure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_ObjectConfigure </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__can__obj__config__ctrls.html#gaa9488554de0575bc821c9f65213c4cd0">ARM_CAN_OBJ_CONFIG</a>&#160;</td>
          <td class="paramname"><em>obj_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_cfg</td><td>Object configuration state<ul>
<li><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0aebbd0da59658805af30203be66d80249">ARM_CAN_OBJ_INACTIVE</a> : deactivate object</li>
<li><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a14780ac7274831ee94f427cbbf67c003">ARM_CAN_OBJ_RX</a> : configure object for reception</li>
<li><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c">ARM_CAN_OBJ_TX</a> : configure object for transmission</li>
<li><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c">ARM_CAN_OBJ_RX_RTR_TX_DATA</a> : configure object that on RTR reception automatically transmits Data Frame</li>
<li><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5">ARM_CAN_OBJ_TX_RTR_RX_DATA</a> : configure object that transmits RTR and automatically receives Data Frame </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_ObjectConfigure</b> configures the message object, which can be a mailbox or FIFO. Refer to <a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a> for details.</p>
<p>The parameter <em>obj_idx</em> specifies the message object index. <br  />
The parameter <em>obj_cfg</em> configures the <b>object</b> with values as shown in the following table.</p>
<table class="cmtable">
<tr>
<th>Parameter <em>obj_cfg</em>  </th><th>Object Configuration </th><th>supported when <a class="el" href="group__can__interface__gr.html#structARM__CAN__OBJ__CAPABILITIES">ARM_CAN_OBJ_CAPABILITIES</a> data field  </th></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0aebbd0da59658805af30203be66d80249">ARM_CAN_OBJ_INACTIVE</a> </td><td>Deactivate object (default after <a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a>)  </td><td><em>always supported</em>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a14780ac7274831ee94f427cbbf67c003">ARM_CAN_OBJ_RX</a> </td><td>Receive object; read received message with <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a>.  </td><td><em>rx</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c">ARM_CAN_OBJ_TX</a>  </td><td>Transmit object; send message with <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a>.  </td><td><em>tx</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0ac5d28d180ea9e4328974ffcb8b928a0c">ARM_CAN_OBJ_RX_RTR_TX_DATA</a> </td><td><a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> Receive; when <b>RTR</b> is received data message is transmitted; set data message with <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a>.  </td><td><em>rx_rtr_tx_data</em> = <span class="XML-Token">1</span>  </td></tr>
<tr>
<td><a class="el" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a396d7a6cd2353e1a2936405ace6417f5">ARM_CAN_OBJ_TX_RTR_RX_DATA</a> </td><td><a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> Transmit; a <b>RTR</b> is sent with <a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> to trigger object reception; read received data message with <a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a>.  </td><td><em>tx_rtr_rx_data</em> = <span class="XML-Token">1</span>  </td></tr>
</table>
<p>When the <b>object</b> is deactivated, it is not used for data communication.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga4f9bc7088704483388e14872c9d5385d" title="Add or remove filter for message reception.">ARM_CAN_ObjectSetFilter</a> </dd></dl>

</div>
</div>
<a id="ga0dcffd362b4093043442a030eaebbcfe" name="ga0dcffd362b4093043442a030eaebbcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0dcffd362b4093043442a030eaebbcfe">&#9670;&#160;</a></span>ARM_CAN_MessageSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_MessageSend </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *&#160;</td>
          <td class="paramname"><em>msg_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send message on CAN bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg_info</td><td>Pointer to CAN message information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Number of data bytes to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value &gt;= 0 number of data bytes accepted to send </dd>
<dd>
value &lt; 0 <a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_MessageSend</b> sends a CAN message on the CAN bus, or sets data message that will be automatically returned upon RTR reception with matching CAN ID.</p>
<p>Only one message can be sent with a call to this function (for CAN up to <span class="XML-Token">8</span> bytes; for CAN FD up to <span class="XML-Token">64</span> bytes of data). A message transmission can be terminated with a call to the function <a class="el" href="group__can__interface__gr.html#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">ARM_CAN_Control</a> with <em>control</em> = <a class="el" href="group__can__mode__ctrls.html#gae051a548bf785104a934908360529438">ARM_CAN_ABORT_MESSAGE_SEND</a>.</p>
<p>The parameter <em>obj_idx</em> specifies the message object index.</p>
<p>The parameter <em>msg_info</em> is a pointer to the structure <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>, which contains the following relevant data fields for sending message:</p><ul>
<li><em>id:</em> Identifier of the message; bit <span class="XML-Token">31</span> specifies if this is an <span class="XML-Token">11-bit</span> or <span class="XML-Token">29-bit</span> identifier.</li>
<li><em>rtr:</em> Specifies if Remote Transmission Request should be sent (<em>dlc</em> is used for number of requested bytes), otherwise the data message will be sent. Refer to <a class="el" href="group__can__interface__gr.html#Remote_Frame">Remote Frame</a> for details.</li>
<li><em>edl:</em> Specifies if Extended Data Length is used; for CAN FD, message can contain up to <span class="XML-Token">64</span> data bytes.</li>
<li><em>brs:</em> Specifies if Bit Rate Switching is to be used; for CAN FD, the bit rate can be increased during data phase.</li>
<li><em>dlc:</em> Data Length Code of requested data bytes when sending Remote Transmission Request.</li>
</ul>
<p>The parameter <em>data</em> is a pointer to the data buffer.<br  />
The parameter <em>size</em> is the number of data bytes to send.<br  />
 The function returns the number of bytes accepted to be sent or <a class="el" href="group__execution__status.html#ga13c1123319c7b9a4735d63447f35116b">ARM_DRIVER_ERROR_BUSY</a> if the hardware is not ready to accept a new message for transmission.</p>
<p>When the message is sent, the callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> is called signalling <a class="el" href="group__CAN__events.html#ga486f0f35ebc7e3b5931ee68b56703503">ARM_CAN_EVENT_SEND_COMPLETE</a> on specified object.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#can_filtering">CAN Message Filtering</a></dd></dl>
<p><b>Example:</b></p>
<div class="fragment"><div class="line">status = ptrCAN-&gt;ObjectConfigure(0, <a class="code hl_enumvalue" href="Driver__CAN_8h.html#gaa9488554de0575bc821c9f65213c4cd0a3e20952f92855298cd0a39a7f47b3f3c">ARM_CAN_OBJ_TX</a>);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
<div class="line"> </div>
<div class="line">memset(&amp;tx_msg_info, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a>));            <span class="comment">// Clear transmit message structure</span></div>
<div class="line">tx_msg_info.id  = <a class="code hl_define" href="group__can__identifer__ctrls.html#gae7d4efb6fb49e1ec47c2b12e22f37cae">ARM_CAN_EXTENDED_ID</a>(0x12345678U);           <span class="comment">// Set ID of message</span></div>
<div class="line">data_buf[0] = <span class="charliteral">&#39;1&#39;</span>;  data_buf[1] = <span class="charliteral">&#39;2&#39;</span>;                        <span class="comment">// Prepare data to transmit</span></div>
<div class="line">data_buf[2] = <span class="charliteral">&#39;3&#39;</span>;  data_buf[3] = <span class="charliteral">&#39;4&#39;</span>;</div>
<div class="line">data_buf[4] = <span class="charliteral">&#39;5&#39;</span>;  data_buf[5] = <span class="charliteral">&#39;6&#39;</span>;</div>
<div class="line">data_buf[6] = <span class="charliteral">&#39;7&#39;</span>;  data_buf[7] = <span class="charliteral">&#39;8&#39;</span>;</div>
<div class="line">status = ptrCAN-&gt;MesageSend(0, &amp;tx_msg_info, data_buf, 8);    <span class="comment">// Send message</span></div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code hl_define" href="group__execution__status.html#ga85752c5de59e8adeb001e35ff5be6be7">ARM_DRIVER_OK</a> ) { Error_Handler(); }</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gafc37084df5eab32f593c2744d35cf647" name="gafc37084df5eab32f593c2744d35cf647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc37084df5eab32f593c2744d35cf647">&#9670;&#160;</a></span>ARM_CAN_MessageRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_MessageRead </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> *&#160;</td>
          <td class="paramname"><em>msg_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read message received on CAN bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msg_info</td><td>Pointer to read CAN message information </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Pointer to data buffer for read data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Maximum number of data bytes to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value &gt;= 0 number of data bytes read </dd>
<dd>
value &lt; 0 <a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_MessageRead</b> reads the message received on the CAN bus, if <em>obj_idx</em> was configured for reception or for automatic Data Message reception using RTR and the callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> was called signalling <a class="el" href="group__CAN__events.html#ga2c1082561eeae3b2b8132e81fc241e47">ARM_CAN_EVENT_RECEIVE</a>. If the message was overrun by another received message, then the callback function <a class="el" href="group__can__interface__gr.html#gabfcaeac9e2ca25936ba5a29f2d594e7e">ARM_CAN_SignalObjectEvent</a> will be called signalling <a class="el" href="group__CAN__events.html#ga6c2d29b5c49d5cd18e97f5931157a94c">ARM_CAN_EVENT_RECEIVE_OVERRUN</a>.</p>
<p>The function can read a maximum of <span class="XML-Token">8</span> data bytes for CAN and <span class="XML-Token">64</span> bytes for CAN FD.</p>
<p>The parameter <em>obj_idx</em> specifies the message object index. <br  />
The parameter <em>msg_info</em> is a pointer to the CAN information structure. <br  />
The parameter <em>data</em> is a pointer to the data buffer for reading data. <br  />
The parameter <em>size</em> is data buffer size in bytes and indicates the maximum number of bytes that can be read.</p>
<p>The function returns the number of read data in bytes or the <a class="el" href="group__execution__status.html">Status Error Codes</a>.</p>
<p>All data fields of the structure <a class="el" href="group__can__interface__gr.html#structARM__CAN__MSG__INFO">ARM_CAN_MSG_INFO</a> are updated as described below:</p><ul>
<li>id: Identifier of the message that was received, bit <span class="XML-Token">31</span> specifies if it is a <span class="XML-Token">11-bit</span> identifier or <span class="XML-Token">29-bit</span> identifier.</li>
<li>rtr: <span class="XML-Token">1</span> = Remote Frame Request was received (<em>dlc</em> is number of requested bytes). <span class="XML-Token">0</span> = data message</li>
<li>edl: <span class="XML-Token">1</span> = CAN FD Extended Data Length message was received. <span class="XML-Token">0</span> = not Extended Data Length message.</li>
<li>brs: <span class="XML-Token">1</span> = CAN FD Bit Rate Switching was used for message transfer. <span class="XML-Token">0</span> = no Bit Rate Switching was used.</li>
<li>esi: <span class="XML-Token">1</span> = CAN FD Error State Indicator is active for received message. <span class="XML-Token">0</span> = Error State Indicator is not active.</li>
<li>dlc: Data Length Code is the number of data bytes in the received message or number of data bytes requested by RTR.</li>
</ul>
<p>Message reception can be disabled by de-configuring the receive object with the function <a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a>. </p>

</div>
</div>
<a id="ga8d9f0c5f03a8a81ab062b5aa57e5dea4" name="ga8d9f0c5f03a8a81ab062b5aa57e5dea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d9f0c5f03a8a81ab062b5aa57e5dea4">&#9670;&#160;</a></span>ARM_CAN_Control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ARM_CAN_Control </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control CAN interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">control</td><td>Operation<ul>
<li><a class="el" href="group__can__mode__ctrls.html#ga978ab3e8860f644dea780e87b3478ff4">ARM_CAN_SET_FD_MODE</a> : set FD operation mode</li>
<li><a class="el" href="group__can__mode__ctrls.html#gae051a548bf785104a934908360529438">ARM_CAN_ABORT_MESSAGE_SEND</a> : abort sending of CAN message</li>
<li><a class="el" href="group__can__mode__ctrls.html#ga0453b8900ca3a0d5210ffd6a918a78e6">ARM_CAN_CONTROL_RETRANSMISSION</a> : enable/disable automatic retransmission</li>
<li><a class="el" href="group__can__mode__ctrls.html#ga398dd25256e644cd8d6506495a06bde8">ARM_CAN_SET_TRANSCEIVER_DELAY</a> : set transceiver delay </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Argument of operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__execution__status.html">Status Error Codes</a></dd></dl>
<p>The function <b>ARM_CAN_Control</b> controls the CAN interface settings and executes various operations.</p>
<p>The parameter <em>control</em> specifies various operations that are listed in the table below.</p>
<p>The parameters <em>arg</em> provides, depending on the <em>control</em> value, additional information or set values.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Parameter <em>control</em>   </th><th class="markdownTableHeadLeft">Operation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__mode__ctrls.html#ga978ab3e8860f644dea780e87b3478ff4">ARM_CAN_SET_FD_MODE</a>   </td><td class="markdownTableBodyLeft">Select <a href="#CAN_FD"><b>CAN FD</b></a> mode; <em>arg</em> : <span class="XML-Token">0</span> = CAN 2.0B; <span class="XML-Token">1</span> = CAN FD.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__mode__ctrls.html#gae051a548bf785104a934908360529438">ARM_CAN_ABORT_MESSAGE_SEND</a>   </td><td class="markdownTableBodyLeft">Abort sending of CAN message; <em>arg</em> : object index    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__mode__ctrls.html#ga0453b8900ca3a0d5210ffd6a918a78e6">ARM_CAN_CONTROL_RETRANSMISSION</a>   </td><td class="markdownTableBodyLeft">Enable/disable automatic retransmission; <em>arg</em> : <span class="XML-Token">0 = disable, 1 = enable (default state)</span>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__mode__ctrls.html#ga398dd25256e644cd8d6506495a06bde8">ARM_CAN_SET_TRANSCEIVER_DELAY</a>   </td><td class="markdownTableBodyLeft">Set transceiver delay; <em>arg</em> : delay in time quanta   </td></tr>
</table>
<p>Verify the CAN interface capabilities with <a class="el" href="group__can__interface__gr.html#ga35f21cabe1637b1be964024a8f77721c">ARM_CAN_GetCapabilities</a>. </p>

</div>
</div>
<a id="ga676d6b567fc4ab3d44f5d7a50ec9419c" name="ga676d6b567fc4ab3d44f5d7a50ec9419c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga676d6b567fc4ab3d44f5d7a50ec9419c">&#9670;&#160;</a></span>ARM_CAN_GetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a> ARM_CAN_GetStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get CAN status. </p>
<dl class="section return"><dt>Returns</dt><dd>CAN status <a class="el" href="group__can__interface__gr.html#structARM__CAN__STATUS">ARM_CAN_STATUS</a></dd></dl>
<p>The function <b>ARM_CAN_GetStatus</b> retrieves runtime information on CAN bus and CAN unit state.</p>
<p>The following defines give information about the current unit involvement in bus communication:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Unit State   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga911a65cc31304d57d283a21476d9ade7">ARM_CAN_UNIT_STATE_INACTIVE</a>   </td><td class="markdownTableBodyLeft">Unit state: Not active on the bus. Unit is in initialization state.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga5f72c295ee2b829a8ae33b96466cc0e8">ARM_CAN_UNIT_STATE_ACTIVE</a>   </td><td class="markdownTableBodyLeft">Unit state: Active on the bus. Unit can generate active error frames.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#gace2db0f930f935054c21242f735e1922">ARM_CAN_UNIT_STATE_PASSIVE</a>   </td><td class="markdownTableBodyLeft">Unit state: Error passive. Unit is interacting on the bus but does not send active error frames.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#gadd78b515410235cd77d0a10213ff4192">ARM_CAN_UNIT_STATE_BUS_OFF</a>   </td><td class="markdownTableBodyLeft">Unit state: Bus-off. Unit does not participate on the bus but monitors it and can recover to active state.   </td></tr>
</table>
<p>The following defines are error codes of the last error that happened on the bus:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Last Error Code   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga5332a311f44caec256d59087c705e1e9">ARM_CAN_LEC_NO_ERROR</a>   </td><td class="markdownTableBodyLeft">No error. There was no error since last read of status or last successful transmit or receive.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga0571c3c3e341ac0579aa713fdfdae77e">ARM_CAN_LEC_BIT_ERROR</a>   </td><td class="markdownTableBodyLeft">Bit error. The bit monitored is different than the bit sent (except during arbitration phase).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga33cbda311f4c2f2464e4070dee78b2f2">ARM_CAN_LEC_STUFF_ERROR</a>   </td><td class="markdownTableBodyLeft">Bit stuffing error. There were 6 consecutive same bit levels on the bus.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga1380f80b709ca921634aecdaf34a24e5">ARM_CAN_LEC_CRC_ERROR</a>   </td><td class="markdownTableBodyLeft">CRC error. CRC of received data is not as expected.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#ga9f753ba50045b28653fb3215ec2e4b8a">ARM_CAN_LEC_FORM_ERROR</a>   </td><td class="markdownTableBodyLeft">Illegal fixed-form bit. Error in fixed form bits.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__can__status__code__ctrls.html#gaae6e827242137bc4d8976cd4ba73015f">ARM_CAN_LEC_ACK_ERROR</a>   </td><td class="markdownTableBodyLeft">Acknowledgment error. Message was not acknowledged by any receiver on the bus.   </td></tr>
</table>

</div>
</div>
<a id="ga38795d1ed135ce3bd87f31ef1596bccf" name="ga38795d1ed135ce3bd87f31ef1596bccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38795d1ed135ce3bd87f31ef1596bccf">&#9670;&#160;</a></span>ARM_CAN_SignalUnitEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARM_CAN_SignalUnitEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal CAN unit event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td><a class="el" href="group__CAN__unit__events.html">CAN Unit Events</a></td></tr>
  </table>
  </dd>
</dl>
<p>The function <b>ARM_CAN_SignalUnitEvent</b> is a callback function registered by the function <a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a>.</p>
<p>The parameter <em>event</em> indicates unit event that occurred during driver operation.</p>
<p>The following callback notifications are generated:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Parameter <em>event</em>   </th><th class="markdownTableHeadCenter">Value   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__unit__events.html#gaa2347c172c8a8f42ac66cb42cd7a08db">ARM_CAN_EVENT_UNIT_INACTIVE</a>   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyLeft">Unit entered Inactive state.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__unit__events.html#ga0e65231ccb20684d7c8eac80385f8c18">ARM_CAN_EVENT_UNIT_ACTIVE</a>   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Unit entered Error Active state.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__unit__events.html#ga3690f864edd2e124f4f9875fdde9a2eb">ARM_CAN_EVENT_UNIT_WARNING</a>   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Unit entered Error Warning state (one or both error counters &gt;= <span class="XML-Token">96</span>).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__unit__events.html#ga9c529d6697fe21e69639224322f8c4b4">ARM_CAN_EVENT_UNIT_PASSIVE</a>   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyLeft">Unit entered Error Passive state.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__unit__events.html#gafa4f992a97b4ca0f079aec2990a69bed">ARM_CAN_EVENT_UNIT_BUS_OFF</a>   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyLeft">Unit entered Bus-off state.   </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga676d6b567fc4ab3d44f5d7a50ec9419c">ARM_CAN_GetStatus</a> </dd></dl>

</div>
</div>
<a id="gabfcaeac9e2ca25936ba5a29f2d594e7e" name="gabfcaeac9e2ca25936ba5a29f2d594e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfcaeac9e2ca25936ba5a29f2d594e7e">&#9670;&#160;</a></span>ARM_CAN_SignalObjectEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARM_CAN_SignalObjectEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal CAN object event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_idx</td><td>Object index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td><a class="el" href="group__CAN__events.html">CAN Object Events</a></td></tr>
  </table>
  </dd>
</dl>
<p>The function <b>ARM_CAN_SignalObjectEvent</b> is a callback function registered by the function <a class="el" href="group__can__interface__gr.html#gaa72ceb25ba67e279d7432404632deb44">ARM_CAN_Initialize</a> and signals a CAN message object event.</p>
<p>The parameter <em>obj_idx</em> is the index of the message object. <br  />
The parameter <em>event</em> indicates object event that occurred during driver operation.</p>
<p>The following events can be generated:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Parameter <em>event</em>   </th><th class="markdownTableHeadCenter">Bit   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__events.html#ga486f0f35ebc7e3b5931ee68b56703503">ARM_CAN_EVENT_SEND_COMPLETE</a>   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyLeft">Message was sent successfully by the <em>obj_idx</em> object.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__events.html#ga2c1082561eeae3b2b8132e81fc241e47">ARM_CAN_EVENT_RECEIVE</a>   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Message was received successfully by the <em>obj_idx</em> object.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__CAN__events.html#ga6c2d29b5c49d5cd18e97f5931157a94c">ARM_CAN_EVENT_RECEIVE_OVERRUN</a>   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Message was overwritten before it was read on the <em>obj_idx</em> object.   </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__interface__gr.html#ga0dcffd362b4093043442a030eaebbcfe">ARM_CAN_MessageSend</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#gafc37084df5eab32f593c2744d35cf647">ARM_CAN_MessageRead</a> </dd>
<dd>
<a class="el" href="group__can__interface__gr.html#ga00ec0715f6755a49dae5b60dca182630">ARM_CAN_ObjectConfigure</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
